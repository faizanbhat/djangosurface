(function(E,K,F){if(E.post_widget===F){var G=function(){var a=document.createElement("div"),d=a.getElementsByTagName("i"),e=3;do a.innerHTML="\x3c!--[if gt IE "+ ++e+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e";while(d[0]);return 4<e?e:F}(),H;if(6!==G){H=function(){var a=["android","iphone","ipad","ipod","windows phone"],d=E.navigator.userAgent.toLowerCase(),e=a.length,c=!1,b=E.screen.availWidth,g=E.screen.availHeight,f;for(f=0;f<e;f++)if(d.match(RegExp(a[f],"g"))){c={platform:a[f],height:g,tablet:600<=
b,width:b};"i"===a[f].charAt(0)&&(c.iosV=d.match(/os ([0-9]+)/g)[0].split(" ")[1]);break}return c}();var I,r;(function(a){var d,e,c={};e=Object.prototype;d=function(b){var a=[],f=b.length,h,k;for(k=0;k<f;k++)h=b[k].split("/"),h=h[h.length-1],a.push(c[h]);return a};r=function(b,g,f){"[object Array]"!==e.toString.call(g)?(f=g,c[b]="function"!==typeof f?f:f()):c[b]=f.apply(a,d(g))};I=function(b,e){if("string"!==typeof b)e.apply(a,d(b));else return c[b.split("/").pop()]}})();r("env",{version:"3_29_4_pch_578",
logServer:"//p.po.st",cdnServer:("https:"==K.location.protocol?"https://s.po.st":"http://i.po.st")+"/static/v3",cdnServerNonSecure:"http://i.po.st/static/v3",shareServer:"//po.st",widgetBuildNumber:"3.29.4-pch-578",displayCmUrl:"//rs.gwallet.com/r1/cm/t0p23",displayBcmUrl:"//rs.gwallet.com/r1/bcm/p23",ieVersion:G,isMobile:H});r("enumeration",{none:"none",post:"post",postShare:"post-share",copypaste:"copypaste",more:"more",pinterest:"pinterest",pinterestImage:"pinterest-image",services:"services",
retina:"retina",print:"print",favorites:"favorites",popular:"popular",widgetVersion:{old:"2.1",neu:"3.0"},events:{click:"click",mouseover:"mouseover",mouseout:"mouseout",resize:"resize"},look:{square:"square",nativ:"native",looknative:"looknative",postShare:"post-share"},size:{small:"small",medium:"medium",large:"large"},counter:{name:"counter",none:"none",show:"show",vertical:"vertical",horizontal:"horizontal"},layout:{name:"layout",vertical:"vertical",horizontal:"horizontal"},viewType:{button:"button",
widget:"widget",list:"list",popup:"popup.popular",popupList:"popup.list",aftershare:"popup.aftershare"},widgetType:{singleButton:"singleButton",buttonCollection:"buttonCollection"},dataloggerEvent:{view:"view",share:"share",more:"more",clickback:"clickback",copyPaste:"copy-paste"},shareMode:{classic:"classic"},initType:{immediate:"immediate",lazy:"lazy"},container:{custombox:"custombox"}});r("globals",function(){var a;a=window;return{win:a,navigator:a.navigator,document:a.document,docElement:a.document.documentElement,
appVersion:a.navigator.appVersion,appName:a.navigator.appName,notDefined:void 0,ArrayProto:Array.prototype,ObjProto:Object.prototype}});r("util",["globals"],function(a){var d,e={};d=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};e.systemLanguage=function(){return a.navigator.userLanguage||a.navigator.language||a.navigator.systemLanguage};e.redirect=function(c){a.win.location.replace(c)};e.hasProperty=function(c,b){return a.ObjProto.hasOwnProperty.call(c,b)};e.each=function(c,
b){var a,f;if(this.isCollection(c)||this.isArray(c)){if(c=this.HTMLCollectionToArray(c),this.isFunction(b))for(a=c.length,f=0;f<a&&!1!==b(f,c[f]);f++);}else if(this.isObject(c)&&this.isFunction(b))for(a in c)if(this.hasProperty(c,a)&&!1===b(a,c[a]))break;return this};e.eachTimes=function(c,b){var a;if(this.isFunction(b))for(a=0;a<c;a++)b(a,c);return this};e.isFunction=function(c){return"function"===typeof c};e.getPropertyByPath=function(c,b){var d,f=c;b&&(d=b.split("."),this.each(d,function(c,b){f=
e.isUndefined(f)?a.notDefined:f[b]}));return f};e.setPropertyByPath=function(c,b,a){var f;b=b.split(".");for(f=0;f<b.length-1;f+=1)c=c[b[f]];c[b[b.length-1]]=a};e.prop=function(c,b,a){if(a)e.setPropertyByPath(c,b,a);else return e.getPropertyByPath(c,b)};e.isString=function(c){return"string"===typeof c};e.isArray=function(c){return"[object Array]"===a.ObjProto.toString.call(c)};e.arrayToString=function(c,b){var a=c;b=b||",";e.isArray(c)&&(a=c.join(b));return a};e.isCollection=function(c){var b=a.ObjProto.toString.call(c),
d=!1;"[object HTMLCollection]"===b||"[object NodeList]"===b?d=!0:e.isObject(c)&&e.hasProperty(c,"length")&&(0===c.length||"object"===typeof c[0]&&0<c[0].nodeType)&&(d=!0);return d};e.addToFavorites=function(c,b,d){try{a.win.external.AddFavorite(b,c)}catch(f){try{a.win.sidebar.addPanel(c,b,"")}catch(h){this.isDefined(d)&&d()}}};e.closeThisWindow=function(){a.win.open("","_self");a.win.close()};e.notify=function(c){a.win.alert(c)};e.print=function(){"Opera"===a.appName?setTimeout(a.win.print,1E3):a.win.print()};
e.openWindow=function(c,b){return a.win.open(c,"",b)};e.HTMLCollectionToArray=function(c){var a=[],d;if(this.isCollection(c)){for(d=0;d<c.length;d++)a[d]=c[d];c=a}return c};e.GUID=function(c){var a="";c=c?"-":"";this.eachTimes(8,function(e,f){a=e<f-1?a+(d()+c):a+d()});return a};e.rand=function(){return Math.round(1E4*Math.random())};e.getTimeStamp=function(){return(new Date).getTime()};e.toInt=function(c){return c>>0};e.prepareQueryParams=function(c){var a="?";this.each(c,function(c,d){a+=encodeURIComponent(c)+
"\x3d"+encodeURIComponent(d)+"\x26"});return a};e.bind=function(c,a){return function(){return a.apply(c,arguments)}};e.bindAll=function(c,b){var d=b||a.ArrayProto.slice.call(arguments,1)[0],f,h;for(f=0;f<d.length;f++)h=d[f],c[h]=e.bind(c,c[h]);return c};e.mergeObjects=function(c,a,d){var f,h;e.isObject(a)||(a={});for(f in c)h=c[f],e.hasProperty(c,f)&&(d&&"on"!==f.substr(0,2)||!d)&&(!e.isObject(h)||e.isArray(h)||e.isDOMElement(h)?a[f]=h:a[f]=e.mergeObjects(h,a[f],d));return a};e.isDOMElement=function(c){return"object"===
typeof HTMLElement?c instanceof HTMLElement:c&&"object"===typeof c&&null!==c&&1===c.nodeType&&"string"===typeof c.nodeName};e.isDefined=function(c){var a=!0;if(e.isNull(c)||e.isUndefined(c))a=!1;return a};e.arrayMaximum=function(c){return Math.max.apply(Math,c)};e.template=function(c,a){this.each(a,function(a,b){c=e.replaceAll(c,"{{"+a+"}}",b)});return c};e.replaceAll=function(a,b,d){return a.replace(RegExp(b,"g"),d)};e.trim=function(a){return e.replaceAll(a," ","")};e.unMergeArrays=function(a,b,
d){var f=[];d?(f=a.slice(0),e.each(f,function(h,k){var d=e.indexOfArray(b,k);-1===d&&(d=e.indexOfArray(a,k),a.splice(d,1))})):e.each(b,function(b,k){var d=e.indexOfArray(a,k);-1!==d&&a.splice(d,1)});return a};e.stringToArray=function(a,b){return e.isString(a)?e.trim(a).split(b||","):a};e.hashParams=function(a,b){var d=a.split("\x26"),f={},h;1===d.length?(h=d[0].split("\x3d"),f[h[0]]=h[1]):this.each(d,function(a,c){h=c.split("\x3d");-1<e.indexOfArray(b,h[0])&&(f[h[0]]=h[1])});return f};e.indexOfArray=
function(c,b){var d=-1;a.ArrayProto.indexOf?d=c.indexOf(b):this.each(c,function(a,c){c===b&&(d=a)});return d};e.mergeToArray=function(a,b){a=a||[];this.isCollection(b)||this.isArray(b)||(b=[b]);return a.concat(b)};e.fixShema=function(a){1===a.split("://").length&&(a="http://"+a);return a};e.isUndefined=function(c){return c===a.notDefined};e.isNull=function(a){return null===a};e.isBoolean=function(a){return"boolean"===a};e.isObject=function(a){return"object"===typeof a};e.askUser=function(c,b){return a.win.prompt(c||
"",b||"")};e.cloneObj=function(a){var b={};e.isObject(a)&&e.each(a,function(a,c){b[a]=c});return b};e.uniq=function(a){var b={},d=[];e.each(a,function(a,c){e.hasProperty(b,c)||(b[c]=!0,d.push(c))});return d};e.isObjEmpty=function(a){var b;if(e.isObject(a))for(b in a)if(e.hasProperty(a,b))return!1;return!0};e.removeTrackingParam=function(a){return a.replace(/[\?&#]{1}([a-z\d]{16})\.([\d]{2})(?:|$)/i,"")};e.sGUID=function(){var a="";this.eachTimes(16,function(){a+="abcdefghijklmopqrstuvwxyzABCDEFGHIJKLMOPQRSTUVWXYZ0123456789".charAt(Math.round(59*
Math.random()))});return a};e.countWords=function(a){if(a)return a.replace(/(^\s*)|(\s*$)/gi,"").replace(/[ ]{2,}/gi," ").replace(/\n /,"\n").split(" ").length};e.isFlashInstalled=function(){var c=a.navigator.mimeTypes,b=!1,d=a.navigator.plugins,e=a.win;if(d&&d.length)c&&c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&(b=!0);else if(-1===a.navigator.appVersion.indexOf("Mac")&&e.execScript)try{new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),b=!0}catch(h){}return b};
e.tryValue=function(a,b){e.isFunction(b)&&b(a);return this};return e});r("pubsub",["util"],function(a){var d={},e={};d.subscribe=function(c,b,d){var f=a.GUID(!1),h=e;d&&(h=d.triggers);if(!h[c]||d)h[c]=[];h[c].push({id:f,fn:b});return f};d.publish=function(c,b,d){var f=e;d&&(f=d.triggers);f[c]&&(d=f[c],a.each(d,function(a,d){d.fn(c,b)}))};return d});r("status",["util"],function(a){var d,e=[],c={},b=0,g=!1;d="pt ru vGUID mGUID sGUID bGUID sc1 label clicked sc".split(" ");c.getFetchingState=function(){return g};
c.setFetchingState=function(a){g=a};c.optout=function(c){a.isUndefined(c)||(b=c);return b};c.getRestrictedOptOutParams=function(){return d};c.addInterstitial=function(c,b){a.isUndefined(this.getInterstitial(c))&&e.push({publisherKey:c,value:b})};c.getInterstitial=function(c){var b;a.each(e,function(a,d){if(d.publisherKey===c)return b=d.value,!1});return b};return c});r("dom",["util","globals"],function(a,d){var e=d.document,c={},b,g,f;b=function(c,b){var d=[],f,l=[];e.getElementsByClassName?d=b.getElementsByClassName(c):
b.querySelectorAll?d=b.querySelectorAll("."+c):(f=RegExp("(^|\\s)"+c+"(\\s|$)"),l=b.getElementsByTagName("*"),a.each(l,function(a,c){f.test(c.className)&&d.push(c)}));return d};f=function(a,b,d,e){var f;f=function(g){d(g,a);c.preventDefault(g);c.stopPropagation(g);e&&c.removeEvent(a,b,f)};a.addEventListener?a.addEventListener(b,f,!1):a.attachEvent?a.attachEvent("on"+b,f):a["on"+b]=f;return f};g=function(b){a.isString(b)&&(b=c.getBy(b));a.isCollection(b)||(b=[b]);return b};c.returnElement=g;c.createElement=
function(b,d){var f=e.createElement(b);a.each(d,function(a,b){"innerHTML"===a?f.innerHTML=b:"className"===a?f.className=b:"style"===a?c.setStyle(f,b):f.setAttribute(a,b)});return f};c.getBy=function(c,d){var f=[],g=c.split(" "),l=[],q;d=d||e;1<g.length&&(q=g[1].toUpperCase(),c=g[0],g=null);switch(c.charAt(0)){case "#":g=e.getElementById(c.substr(1));break;case ".":g=b(c.substr(1),d);break;default:g=d.getElementsByTagName(c)}a.isDefined(g)&&(g=a.HTMLCollectionToArray(g),q&&a.each(g,function(c,b){a.each(b.childNodes,
function(a,b){b.nodeName===q&&f.push(b)})}),l=1<f.length?f:g);return l};c.setStyle=function(b,c){b=g(b)[0];a.each(c,function(a,c){b.style[a]=c})};c.setTitle=function(a){d.document.title=a};c.hasChild=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1};c.listenPostMessage=function(a,b){b=b||d.win;b.postMessage&&c.addEvent(b,"message",function(b){a&&a(b.data,b.origin)})};c.isHidden=function(a){return"none"===a.style.display};c.appendTo=function(a,b){return g(a)[0].appendChild(b)};
c.insertHTML=function(a,b){a.innerHTML+=b};c.html=function(a,b){var d=c;b?a.innerHTML=b:d=a.innerHTML;return d};c.getNodeText=function(a){return a.innerText||a.textContent};c.removeNode=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)};c.loadScript=function(a,b){var c,d,f;c=this.createElement("script",{src:a,async:!0});c.onload=c.onreadystatechange=function(){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,c.onload=c.onreadystatechange=null,b&&b(),c&&c.parentNode&&
c.parentNode.removeChild(c))};f||(f=this.getBy("head")[0]);this.appendTo(f,c)};c.addEvent=function(b,c,d,e){var l;a.isArray(b)?a.each(b,function(a,b){l=f(b,c,d,e)}):l=f(b,c,d,e);return l};c.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null};c.attr=function(b,c,d){var f;if(d)b.setAttribute(c,d);else return(f=b.getAttribute&&b.getAttribute(c)||null)||a.each(b.attributes,function(a,b){b.nodeName===c&&(f=b.nodeValue)}),
"boolean"===typeof f?f.toString():f};c.addClass=function(a,b){g(a)[0].className+=" "+b};c.classList=function(b,c){var d=(g(b)[0].className||"").split(" "),f=!1;c&&(c=a.isArray(c)?c:[c],a.each(c,function(b,c){if(-1<a.indexOfArray(d,c))return f=!0,!1}));return c?f:d};c.setClass=function(a,b){g(a)[0].className=b};c.replaceClass=function(a,b,c){a=g(a)[0];a.className=a.className.replace(b,c)};c.loadCSS=function(a){a=this.createElement("link",{rel:"stylesheet",type:"text/css",href:a,media:"all"});this.appendTo("head",
a)};c.ready=function(a){function b(){g||(g=!0,a())}function c(){if(!g&&e.body)try{f.doScroll("left"),b()}catch(a){setTimeout(c,0)}}var f=document.documentElement,l=e.readyState,g=!1;"complete"===l&&b();e.addEventListener?e.addEventListener("DOMContentLoaded",function(){b()},!1):e.attachEvent&&(f.doScroll&&d.win===d.win.top&&c(),e.attachEvent("onreadystatechange",function(){"complete"===l&&b()}));d.win.addEventListener?d.win.addEventListener("load",b,!1):d.win.attachEvent&&d.win.attachEvent("onload",
b)};c.stopPropagation=function(a){a=a||d.win.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};c.doc=function(b){return b?a.getPropertyByPath(e,b):e};c.win=function(b){return b?a.getPropertyByPath(d.win,b):d.win};c.parent=function(a,b){return b?a.parentNode[b]:a.parentNode};c.insertBefore=function(a,b){a.parentNode.insertBefore(b,a.nextSibling)};c.childs=function(b,c){var d=[];b=g(b)[0];c=c.toUpperCase();a.each(b.childNodes,function(a,b){c===b.tagName&&d.push(b)});return d};c.preventDefault=
function(a){a=a||d.win.event;a.preventDefault?a.preventDefault():a.returnValue=!1};c.display=function(a,b){if(a=g(a)[0])switch(b){case "hide":a.style.display="none";break;default:a.style.display="block"}};c.getClientOffset=function(){var a={};d.win.opera?(a.w=d.win.innerWidth,a.h=d.win.innerHeight):"CSS1Compat"===e.compatMode?(a.w=e.documentElement.clientWidth,a.h=e.documentElement.clientHeight):(a.w=e.body.clientWidth,a.h=e.body.clientHeight);return a};c.getScrollPosition=function(){return{x:d.win.pageXOffset||
e.documentElement.scrollLeft,y:d.win.pageYOffset||e.documentElement.scrollTop}};c.getElementOffset=function(a){return a.getBoundingClientRect?this.getOffsetRect(a):this.getOffsetSum(a)};c.getOffsetRect=function(a){a=a.getBoundingClientRect();var b=e.body,c=e.documentElement,f=a.top+(d.win.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0);return{left:Math.round(a.left+(d.win.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0)),top:Math.round(f)}};c.getOffsetSum=
function(b){for(var c=0,d=0;b;)d+=a.toInt(b.offsetLeft),c+=a.toInt(b.offsetTop),b=b.offsetParent;return{left:d,top:c}};c.getParentByClassList=function(a,b){for(var c;a.parentNode&&"body"!==a.localName;)if(this.classList(a.parentNode,b)){c=a.parentNode;break}else a=a.parentNode;return c};c.getElementSize=function(a){return{height:a.offsetHeight,width:a.offsetWidth}};c.getTransitionEndEventName=function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"},
b,c;for(b in a)if(a.hasOwnProperty(b)&&d.document.body.style[b]!==d.notDefined){c=a[b];break}return c};c.onTransitionEnd=function(b,f){var e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"},g,l;for(g in e)if(e.hasOwnProperty(g)&&d.document.body.style[g]!==d.notDefined){l=e[g];break}l&&a.isFunction(f)&&c.addEvent(b,l,f,!0)};c.isNodeElement=function(a){return 0<a.nodeType};c.getWindowHeight=function(){return d.win.innerHeight};return c});r("support",
["util","globals","pubsub","env","enumeration"],function(a,d,e,c,b){d={};var g=!1;e.subscribe("application.ready",function(a){g=!0});d.fixPinterest=function(a){if("imageURL"===a||"Image"===a||"pinterestImage"===a)a="image";return a};d.appReady=function(b){var c=setInterval(function(){g&&(a.isFunction(b)&&b(),clearInterval(c))},1)};d.fixPinterestPwConf=function(b){var c={},d=this;a.each(b,function(a,b){c[d.fixPinterest(a)]=b});return c};d.updateServices=function(d){var e,k;d.p_share_popup&&(d.p_share_popup=
a.arrayToString(d.p_share_popup),c.isMobile&&(d.p_share_popup=a.replaceAll(d.p_share_popup,b.favorites,"")),d.p_share_popup=a.stringToArray(d.p_share_popup));d.more_popup&&(d.more_popup=a.arrayToString(d.more_popup),c.isMobile&&(d.more_popup=a.replaceAll(d.more_popup,b.favorites,""),c.isMobile.iosV||(d.more_popup=a.replaceAll(d.more_popup,b.print,""))),d.more_popup=a.stringToArray(d.more_popup));d.exclude&&(a.isString(d.exclude)?e=k=a.stringToArray(d.exclude):a.isObject(d.exclude)&&(d.exclude.popup&&
(e=a.stringToArray(d.exclude.popup)),d.exclude.popular&&(k=a.stringToArray(d.exclude.popular))),d.exclude={popup:e||[],popular:k||[]});c.isMobile&&(d.exclude=d.exclude||{popup:[],popular:[]},d.exclude.popup=d.exclude.popup.concat([b.favorites]),d.exclude.popular=d.exclude.popular.concat([b.favorites]));c.isMobile&&!c.isMobile.iosV&&(d.exclude.popup=d.exclude.popup.concat([b.print]),d.exclude.popular=d.exclude.popular.concat([b.print]));return d};return d});r("scriptParams",["util","dom"],function(a,
d){var e,c={},b,g;e=["publisherKey","init","lc","retina"];g=function(){a.each(d.getBy("script"),function(c,d){var k=d.src;-1<k.search(/post-widget.js/)&&(b=(k=k.split("#")[1])?a.hashParams(k,e):{})})};c.get=function(a){b||g();return b[a]};return c});r("pwConfig",["util","dom","enumeration","globals"],function(a,d,e,c){var b={},g={},f;f={publisherKey:c.notDefined,copypaste:!0,onshare:null,locale:null,mobileOverlay:!1,shareQuote:!0,onload:null,track:!0,init:c.notDefined,mode:e.shareMode.classic,version:c.notDefined,
vguid:c.notDefined,retina:!1,gaTrackEvents:{enabled:!1,nonInteraction:!1},gaTrackSocialInteractions:{enabled:!1,pagePath:c.notDefined},i18n:{readMore:c.notDefined},readMoreUrl:c.notDefined,defaults:{view_type:c.notDefined,hidePopupDelay:1500,transformations:{tracking:!0,shorten:c.notDefined},afterShare:{baseElement:c.notDefined,center:!1,offset:[0,0]},shareAgain:!0,afterShareText:c.notDefined,onshowaftershare:c.notDefined,onhideaftershare:c.notDefined,onbuttonclick:c.notDefined,sharePopups:!1,image:c.notDefined,
imageURL:c.notDefined,pinterestImage:c.notDefined,url:a.removeTrackingParam(d.doc("location.href")),title:d.doc("title"),referrer:c.notDefined,showPost:!0,services:{twitter:{via:"po_st"},p_share_popup:c.notDefined,more_popup:c.notDefined,exclude:c.notDefined},size:e.size.small,buttons:["facebook","twitter","linkedin"],click:!1,button:c.notDefined,vertical:!1,counter:c.notDefined,internal:{sharedVia:c.notDefined}}};b.val=function(b){return a.getPropertyByPath(f,b)};b.update=function(c,d){a.isObject(c)&&
(f=a.mergeObjects(c,f),d&&(g=a.mergeObjects(c,g)));return b};b.setUserPwConfig=function(b){a.isObject(b)&&(g=a.mergeObjects(b,g))};b.getUserPwConfig=function(){return g};b.isDefinedByUser=function(b){return!a.isUndefined(a.getPropertyByPath(g,b))};return b});r("i18n",["util","pwConfig","env","enumeration"],function(a,d,e,c){var b,g,f,h,k="en-us",n={};f={en:["us"],de:["de"],fr:["fr"],it:["it"],pt:["br"],ru:["ru"],ja:["jp"],es:["la"],zh:["cn"],pl:["pl"]};h={share:{en:"Share",de:"Teilen",fr:"Partager",
it:"Condividi","pt-br":"Compartilhar",ru:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f","ja-jp":"\u5171\u6709\u3059\u308b","es-la":"Compartir","zh-cn":"\u5206\u4eab",pl:"Udost\u0119pnij"},shareTitle:{en:"Share with friends",de:"Mit Freunden teilen",fr:"Partager avec vos amis",it:"Condividi con gli amici","pt-br":"Compartilhar com amigos",ru:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438","ja-jp":"\u53cb\u9054\u3068\u5171\u6709\u3059\u308b",
"es-la":"Compartir con amigos","zh-cn":"\u4e0e\u597d\u53cb\u5206\u4eab",pl:"Udost\u0119pnij znajomym"},privacy:{en:"Privacy",de:"Datenschutz",fr:"Confidentialit\u00e9",it:"Privacy","pt-br":"Privacidade",ru:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u044c","ja-jp":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc","es-la":"Privacidad","zh-cn":"\u9690\u79c1\u653f\u7b56",pl:"Prywatno\u015b\u0107"},powered:{en:"Powered by Po.st",de:"Bereitgestellt von Po.st",fr:"Op\u00e9r\u00e9 par Po.st",it:"Con tecnologia Po.st",
"pt-br":"Habilitado por Po.st",ru:"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 Po.st","ja-jp":"Po.st\u306b\u3088\u308b\u63d0\u4f9b","es-la":"Publicado gracias a Po.st","zh-cn":"\u91c7\u7528 Po.st \u5e73\u53f0",pl:"Dzia\u0142a w oparciu o rozwi\u0105zania Po.st"},more:{en:"More",de:"Mehr",fr:"Plus",it:"Altro","pt-br":"Mais",ru:"\u0415\u0449\u0435","ja-jp":"\u3082\u3063\u3068","es-la":"M\u00e1s","zh-cn":"\u66f4\u591a",pl:"Wi\u0119cej"},
moreServices:{en:"More services",de:"Weitere dienste",fr:"Plus de services",it:"Altri servizi","pt-br":"Mais servi\u00e7os",ru:"\u0412\u0441\u0435 \u0441\u043b\u0443\u0436\u0431\u044b","ja-jp":"\u305d\u306e\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9","es-la":"M\u00e1s servicios","zh-cn":"\u66f4\u591a\u670d\u52a1",pl:"Inne us\u0142ugi"},email:{en:"Email",de:"E-Mail",fr:"E-mail",it:"E-mail","pt-br":"Email",ru:"Email","ja-jp":"E\u30e1\u30fc\u30eb","es-la":"Correo electr\u00f3nico","zh-cn":"\u7535\u5b50\u90ae\u4ef6",
pl:"E-mail"},favorites:{en:"Favorites",de:"Favoriten",fr:"Favoris",it:"Preferiti","pt-br":"Favoritos",ru:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","ja-jp":"\u304a\u6c17\u306b\u5165\u308a","es-la":"Favoritos","zh-cn":"\u6536\u85cf\u5939",pl:"Ulubione"},print:{en:"Print",de:"Drucken",fr:"Imprimer",it:"Stampa","pt-br":"Imprimir",ru:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c","ja-jp":"\u5370\u5237","es-la":"Imprimir","zh-cn":"\u6253\u5370",pl:"Drukuj"},sharingSuccessful:{en:"Sharing Successful!",
de:"Teilen erfolgreich!",fr:"Partage effectu\u00e9!",it:"Condivisione riuscita!","pt-br":"Compartilhamento Feito!",ru:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0438\u0441\u044c \u0441\u0441\u044b\u043b\u043a\u043e\u0439","ja-jp":"\u304d\u3061\u3093\u3068\u5171\u6709\u3055\u308c\u307e\u3057\u305f","es-la":"Compartido exitosamente","zh-cn":"\u5206\u4eab\u6210\u529f",pl:"Udost\u0119pnianie zako\u0144czone powodzeniem"},successfullyShared:{en:"You've successfully shared using Po.st!",
de:"Sie haben etwas erfolgreich \u00fcber Po.st geteilt!",fr:"Vous avez partag\u00e9 en utilisant Po.st !",it:"Hai effettuato una condivisione usando Po.st!","pt-br":"Voc\u00ea compartilhou com sucesso usando Po.st!",ru:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 Po.st!","ja-jp":"Po.st\u3092\u4f7f\u3063\u3066\u304d\u3061\u3093\u3068\u5171\u6709\u51fa\u6765\u307e\u3057\u305f\uff01",
"es-la":"\u00a1Haz compartido exitosamente usando Po.st!","zh-cn":"\u5df2\u6210\u529f\u901a\u8fc7 Po.st \u5206\u4eab\uff01",pl:"Udost\u0119pni\u0142e\u015b tre\u015bci, korzystaj\u0105c z serwisu Po.st!"},shareAgain:{en:"Share again!",de:"Mehr teilen!",fr:"Partager de nouveau!",it:"Condividi ancora!","pt-br":"Compartilhar novamente!",ru:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u043d\u043e\u0432\u0430","ja-jp":"\u3082\u3046\u4e00\u5ea6\u5171\u6709\u3059\u308b","es-la":"Compartir otra vez",
"zh-cn":"\u518d\u6b21\u5206\u4eab",pl:"Udost\u0119pniaj ponownie"},readMore:{en:"Read more at {link}",de:"Mehr lesen auf {link}",fr:"En savoir plus sur {link}",it:"Scopri di pi\u00f9 su {link}","pt-br":"Leia mais em {link}",ru:"\u0427\u0438\u0442\u0430\u0439\u0442\u0435 \u0434\u0430\u043b\u0435\u0435 \u043d\u0430 {link}","ja-jp":"{link} \u3067\u8a73\u7d30\u3092\u8aad\u3080","es-la":"Lea m\u00e1s en {link}","zh-cn":"\u5728 {link} \u4e86\u89e3\u8be6\u60c5",pl:"Przeczytaj wi\u0119cej tutaj: {link}"},
enterWordpressURL:{en:"Please enter your WordPress Blog URL",de:"Geben Sie Ihre Wordpress-Blog-URL ein",fr:"Entrez le lien de votre blog WordPress",it:"Inserisci l'URL del tuo blog WordPress","pt-br":"Digite a URL do seu Blog WordPress",ru:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043b\u043e\u0433\u0430 \u043d\u0430 WordPress","ja-jp":"WordPress\u30d6\u30ed\u30b0\u306eURL\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
"es-la":"Por favor introduzca la direcci\u00f3n URL de su blog de WordPress","zh-cn":"\u8bf7\u8f93\u5165 WordPress \u535a\u5ba2 URL",pl:"Wprowad\u017a adres URL swojego bloga w serwisie WordPress"},pressToBookmark:{en:"Please press Ctrl+D to bookmark this page.",de:"Bitte dr\u00fccken Sie Strg+D, um diese Seite als Lesezeichen zu speichern.",fr:"Merci d'appuyer sur Ctrl+D pour sauvegarder cette page.",it:"Premi Ctrl+D per salvare questa pagina nei segnalibri.","pt-br":"Por favor, digite Ctrl+D para favoritar esta p\u00e1gina.",
ru:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+D, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435.","ja-jp":"\u3053\u306e\u30da\u30fc\u30b8\u3092\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306b\u8ffd\u52a0\u3059\u308b\u306b\u306fCtrl+D\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
"es-la":"Por favor, pulse Ctrl + D para marcar esta p\u00e1gina.","zh-cn":"\u8bf7\u6309 Ctrl+D \u5bf9\u6b64\u9875\u9762\u6dfb\u52a0\u4e66\u7b7e\u3002",pl:"Aby doda\u0107 t\u0119 stron\u0119 do ulubionych, naci\u015bnij Ctr+D"},twitterLookNative:{en:"Tweet",de:"Twittern",fr:"Tweeter",it:"Tweet","pt-br":"Tweetar",ru:"\u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c","ja-jp":"\u30c4\u30a4\u30fc\u30c8","es-la":"Twittear","zh-cn":"Tweet",pl:"Tweetnij"},close:{en:"Close",de:"Schlie\u00dfen",fr:"Fermer",
it:"Chiudere","pt-br":"Fechar",ru:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","ja-jp":"\u30af\u30ed\u30fc\u30ba","es-la":"Cerrar","zh-cn":"\u5173\u95ed",pl:"Zamkn\u0105\u0107"}};b={"":"facebook twitter email print stumbleupon favorites linkedin googlebookmarks tumblr reddit pinterest".split(" "),"ru-ru":"vkontakte odnoklassniki facebook twitter mailru print favorites googlebookmarks reddit livejournal googleplus gmail linkedin stumbleupon tumblr blogger pinterest".split(" "),"en-us":"facebook twitter print email pinterest gmail stumbleupon favorites reddit tumblr googlebookmarks blogger linkedin yahoomail digg googleplus".split(" "),
"en-gb":"facebook twitter print email stumbleupon favorites gmail reddit blogger googlebookmarks linkedin tumblr googleplus pinterest digg delicious".split(" "),"fr-fr":"facebook twitter print email gmail favorites linkedin stumbleupon googlebookmarks reddit viadeo blogger googleplus pinterest tumblr".split(" "),"fr-ch":"facebook print email twitter favorites gmail blogger stumbleupon".split(" "),"de-de":"facebook print twitter stumbleupon favorites email googlebookmarks xing meinvz reddit blogger tumblr googleplus digg delicious".split(" "),
"de-ch":"facebook twitter email print reddit stumbleupon favorites gmail blogger tumblr pinterest".split(" "),"it-it":"facebook twitter print email stumbleupon linkedin googlebookmarks favorites googleplus blogger tumblr reddit gmail".split(" "),"it-ch":"facebook twitter email print reddit stumbleupon favorites gmail blogger tumblr pinterest".split(" "),"pt-br":"facebook twitter orkut email print googlebookmarks blogger favorites googleplus aollifestream gmail digg stumbleupon reddit linkedin".split(" "),
"pt-pt":"facebook twitter print email blogger googlebookmarks gmail orkut favorites aollifestream googleplus stumbleupon digg linkedin tumblr".split(" "),"ja-jp":"twitter facebook print favorites googlebookmarks stumbleupon delicious email blogger tumblr digg googleplus gmail linkedin".split(" "),"zh-cn":"twitter facebook weibo reddit gmail pinterest favorites print googlebookmarks linkedin stumbleupon email tumblr baidu delicious".split(" "),"es-la":"facebook twitter print email gmail stumbleupon favorites googlebookmarks blogger googleplus linkedin hotmail tumblr".split(" "),
"pl-pl":"facebook twitter print reddit googlebookmarks vkontakte stumbleupon favorites digg gmail email linkedin googleplus delicious".split(" ")};g=function(){return a.systemLanguage().toLowerCase()};n.getChannelsByRegion=function(d){var f=b[k]||b[""];e.isMobile&&!d&&(a.tryValue(a.indexOfArray(f,c.print),function(a){-1<a&&f.splice(a,1).concat([c.print])}),a.tryValue(a.indexOfArray(f,c.favorites),function(a){-1<a&&f.splice(a,1).concat([c.favorites])}));return f};n.t=function(a){var b=h[a],c=d.val("locale"),
e;b&&(e=b["en-us"],b[c]?e=b[c]:b[c.split("-")[0]]&&(e=b[c.split("-")[0]]));return e||a};n.validateUserLocale=function(c){var d,e,m;a.isDefined(c)&&(1<c.length&&"auto"!==c?(c=c.toLowerCase(),d=c.split("-"),e=f[d[0]],k=c,a.isDefined(e)?(m=d[0],-1<a.indexOfArray(e,d[1])?(m=c,b[c]||(k=d[0]+"-"+(d[1]||d[0]))):(e[0]!==d[0]&&(m=d[0]+"-"+e[0]),b[c]||(k=d[0]+"-"+e[0]))):k="en-us"):"auto"===c&&(m=g(),d=m.split("-"),k=m=(e=f[d[0]])?d[0]+"-"+e[0]:"en-us"));a.isDefined(m)&&(c=m.split("-"),c[0]===c[1]&&(m=c[0]));
return m||"en-us"};n.getBCP47tag=function(){var a=d.val("locale").split("-");return a[0]+"_"+a[a[1]?1:0].toUpperCase()};return n});r("config",["env","util","enumeration","dom"],function(a,d,e,c){var b={};return b={getCssQuerySelector:function(a,c,e){a=b.cssQuerySelector[a][c||b.widgetVersion];e&&(a=d.template(a,e));return a},getPropFromClass:function(a,c,d){var e;d=d||b.widgetVersion;c.replace(b.regexpPatterns[a][d],function(a,b){e=b});return e},getAttrValue:function(a,d){return c.attr(a,"data-"+
d)||c.attr(a,b.attrPrefix+d)},attrPrefix:"pw:",widgetVersion:"3.0",privacyPolicyLink:"http://www.po.st/privacy.html",privacyLinkMobile:"http://m.radiumone.com/about/privacy.html",poStLink:"http://www.po.st",mainCssPath:a.cdnServer+"/css/r1post.css?"+a.version,wpAskUrlDefaultValue:"http://",pinMarkletUrl:"//assets.pinterest.com/js/pinmarklet.js",buttonSize:{small:[16,16],medium:[24,24],large:[32,32]},externalModules:{copyPaste:a.cdnServer+"/post-copypaste.js",shareQuote:a.cdnServer+"/js/external/shareQuote.js"},
externalCss:{retina:a.cdnServer+"/css/r1post_retina.css"},postShareAliases:["pw_post","pw_share","pw_post-share"],postWidgetAliases:["pw-widget","pw_widget"],widgetClassList:"pw pw-widget ",regexpPatterns:{buttonContainer:{"2.1":/pw_(.+)/i,"3.0":/pw-button-(\S+)/g},size:{"2.1":/pw_size_([a-z]+)/g,"3.0":/pw-size-([a-z]+)/g},layout:{"2.1":/pw_layout_([a-z]+)/g,"3.0":/pw-layout-([a-z]+)/g},copypaste:{"2.1":/pw_copypaste_([a-z]+)/g,"3.0":/pw-copypaste-([a-z]+)/g},counter:{"2.1":/pw_counter_([a-z]+)/g,
"3.0":/pw-counter-([a-z]+)/g},counterButton:{"2.1":/pw_counter/g,"3.0":/pw-counter/g},looknative:{"3.0":/look-native/g},"share-popups":{"3.0":/pw-share-popups/g},popularChannel:/popular-([0-9]+)/g,nativeButton:/-like?|-share?|twitter-twitt?|-plus?/g},cssQuerySelector:{defaultButton:{"2.1":".pw_{{channel}}","3.0":".pw-button-{{channel}}"},nativeButton:{"2.1":"a .pw_{{channel}}_button","3.0":"a .pw-button-{{channel}}-{{prefix}}"},widget:{"2.1":".pw_widget","3.0":".pw-widget"},counterNode:{"2.1":".ra1-pw-button-counter-value",
"3.0":".ra1-pw-button-counter-value"}},cssClasses:{pwButton:"pw-button",pwWidgetCore:"pw",pwLogImage:"ra1-pw-logImage",lookNativeButton:"look-native",lookNativeWidget:"pw-widget-look-native",defaultWidgetCounter:"pw-counter-horizontal",nativeContainer:"ra1-pw-originalbuttons",htmlPwLocale:"pw-locale-",transparentButton:"pw-button-post-share-transparent",counterLookNative:"pw-counter-look-native",disablePostButton:"pw_post_false",buttonTypePrefix:"button-type-"},pwWidgetId:"pw_widget_{{id}}",buttonAttributes:[{name:"size",
defaultValue:e.size.small,definedAsClass:"pw-size-{{value}}"},{name:"counter",defaultValue:!1,definedAsClass:"pw-button-counter-{{value}}"},{name:"url",defaultValue:!1,definedAsClass:!1},{name:"title",defaultValue:!1,definedAsClass:!1},{name:"image",defaultValue:!1,definedAsClass:!1}],widgetAttributes:[{name:"size",defaultValue:e.size.small,definedAsClass:"ra1-pw_size_{{value}}"},{name:"layout",defaultValue:e.layout.horizontal,definedAsClass:"pw-layout-{{value}}"},{name:"url"},{name:"title"},{name:"image"},
{name:"pinterest-image"},{name:"counter",definedAsClass:"pw-counter-{{value}}"},{name:"copypaste",definedAsClass:"pw-copypaste-{{value}}"},{name:"twitter-via",defaultsPath:"services.twitter.via"},{name:"share-popups",defaultsPath:"sharePopups",definedAsClass:"pw-share-popups"},{name:"counter-look",defaultsPath:"counterLook"}],counterAttributes:[{name:"url"},{name:"channel"}],replaceAttributes:{button:[{s:/pw-counter/g,r:"pw-button-counter-show"}],widget:[{s:/pw-vertical/g,r:"pw-layout-vertical"}]},
templates:{buttonIcon:'\x3cspan class\x3d"pw-icon ra1-pw-icon ra1-pw-icon-{{channel}}"\x3e\x3c/span\x3e',buttonLookNative:'\x3cspan class\x3d"pw-button-type-{{type}}"\x3e{{icon}}\x3cspan class\x3d"pw-button-type-{{type}}__txt"\x3e{{label}}\x3c/span\x3e\x3c/span\x3e',buttonCounterDefault:'\x3cspan class\x3d"pw-button-counter"\x3e\x3ci class\x3d"pw-button-counter__brd"\x3e\x3c/i\x3e\x3cspan class\x3d"pw-button-counter__count ra1-pw-button-counter-value"\x3e{{count}}\x3c/span\x3e\x3c/span\x3e',buttonCounterTop:'\x3cspan class\x3d"pw-button-counter-top"\x3e\x3ci class\x3d"pw-button-counter-top__brd"\x3e\x3c/i\x3e\x3cspan class\x3d"pw-button-counter-top__count ra1-pw-button-counter-value"\x3e{{count}}\x3c/span\x3e\x3c/span\x3e',
buttonDefault:'\x3ca class\x3d"pw-button-{{channel}} {{classes}}" {{attrs}}\x3e\x3c/a\x3e',buttonNative:'\x3cspan class\x3d"{{className}}"\x3e{{code}}\x3c/span\x3e'}}});r("jsonp",["util","dom","globals"],function(a,d,e){return{fetch:function(c,b,g){var f;a.isFunction(b)?(g=b,b="?"):a.isString(b)||(b=a.prepareQueryParams(b));f="r1PoStJSONP"+a.rand();e.win[f]=function(a){g(a);try{delete e.win[f]}catch(b){}e.win[f]=null};d.loadScript(c+b+(new Date).getTime()+"\x26callback\x3d"+f);return f}}});r("channels",
["util","i18n","enumeration","env"],function(a,d,e,c){var b={},g=[],f=!1,h,k,n;k=function(b){var c;a.each(b,function(a,b){c={id:b[0],name:b[1],displayName:b[2],value:b[3]};b[4]&&(c.extra=b[4]);g.push(c)})};n=function(c,d){var e=b.get("name",d);a.getPropertyByPath(e,"extra.hideFromPopUp")||c.push(e.name);return c};h=function(b){var c=[];a.each(g,function(d,e){a.getPropertyByPath(e,b)&&c.push(e.name)});return c};b.init=function(){f||(k([["02","twitter","Twitter","https://twitter.com/intent/tweet?url\x3d[URL]\x26text\x3d[TITLE]\x26via\x3d{{via}}",
{nativeImpl:{prefix:"twitt"},popUpSize:[640,480],counter:!0,shorten:!0,fake:!0,fakeI18n:d.t("twitterLookNative"),maxSymbols:140}],["01","facebook","Facebook","http://www.facebook.com/share.php?src\x3dbm\x26u\x3d[URL]\x26t\x3d[TITLE]\x26v\x3d3",{viaShareQuote:"http://www.facebook.com/sharer.php?m2w\x26s\x3d100\x26v\x3d3\x26src\x3dbm\x26p[url]\x3d[URL]\x26p[title]\x3d[TITLE]\x26p[summary]\x3d[DESCRIPTION]",nativeImpl:{prefix:"like"},popUpSize:[640,480],counter:!0,fake:!0,fakeI18n:d.t("share")}],["07",
"linkedin","LinkedIn","http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d[URL]\x26title\x3d[TITLE]\x26summary\x3d[DESCRIPTION]",{nativeImpl:{prefix:"share"},popUpSize:[600,420],shorten:!0,counter:!0,fake:!0,fakeI18n:d.t("share")}],["08","googlebookmarks","Google Bookmarks","http://www.google.com/bookmarks/mark?op\x3dedit\x26bkmk\x3d[URL]\x26title\x3d[TITLE]\x26annotation\x3d[DESCRIPTION]",{otherNames:["google_bookmarks","google-bookmarks"]}],["17","yahoomail","Yahoo Mail","http://compose.mail.yahoo.com/?Subject\x3d[TITLE]\x26Body\x3d[DESCRIPTION]+[URL]",
{extraUrlEncoding:!0}],["23","aollifestream","AOL LifeStream","http://lifestream.aol.com/share/?url\x3d[URL]\x26title\x3d[TITLE]\x26description\x3d[DESCRIPTION]",{shorten:!0}],["30","googleplus","Google+","https://plus.google.com/share?url\x3d[URL]\x26t\x3d[TITLE]",{nativeImpl:{prefix:"plusone"},popUpSize:[640,480],counter:!0,fake:!0,fakeI18n:d.t("share")}],["32","pinterest","Pinterest","http://pinterest.com/pin/create/button/?url\x3d[URL]\x26description\x3d[TITLE]\x26media\x3d{{imageurl}}",{nativeImpl:{prefix:"share"},
popUpSize:[680,500],counter:!0,fake:!0,fakeI18n:d.t("share")}],["05","stumbleupon","StumbleUpon","http://www.stumbleupon.com/submit?url\x3d[URL]\x26title\x3d[TITLE]",{shorten:!1,counter:!0,fake:!0,fakeI18n:"Stumble"}],["11","delicious","Delicious","http://delicious.com/save?url\x3d[URL]\x26title\x3d[TITLE]"],["12","digg","Digg","http://digg.com/submit?phase\x3d2\x26url\x3d[URL]\x26title\x3d[TITLE]"],["13","orkut","Orkut","http://promote.orkut.com/preview?nt\x3dorkut.com\x26tt\x3d[TITLE]\x26du\x3d[URL]\x26cn\x3d[DESCRIPTION]"],
["14","gmail","GMail","http://mail.google.com/mail/?view\x3dcm\x26fs\x3d1\x26to\x26su\x3d[TITLE]\x26body\x3d[DESCRIPTION]+[URL]\x26ui\x3d2\x26tf\x3d1"],["15","blogger","Blogger","http://www.blogger.com/blog_this.pyra?t\x26u\x3d[URL]\x26n\x3d[TITLE]\x26pli\x3d1",{counter:!0,fake:!0}],["16","reddit","Reddit","http://reddit.com/submit?resubmit\x3dtrue\x26url\x3d[URL]\x26title\x3d[TITLE]",{counter:!0,fake:!0}],["18","tumblr","Tumblr","http://www.tumblr.com/share?v\x3d3\x26u\x3d[URL]\x26t\x3d[TITLE]\x26s\x3d[DESCRIPTION]",
{counter:!0,fake:!0}],["19","hotmail","Hotmail","http://www.hotmail.msn.com/secure/start?action\x3dcompose\x26to\x3d\x26subject\x3d[TITLE]\x26body\x3d[URL]",{disabled:!0}],["20","aolmail","AOL Mail","http://webmail.aol.com/25045/aol/en-us/Mail/compose-message.aspx?to\x3d\x26subject\x3d[TITLE]\x26body\x3d[DESCRIPTION]+[URL]"],["21","livejournal","LiveJournal","http://www.livejournal.com/update.bml?subject\x3d[TITLE]\x26event\x3d[DESCRIPTION]+[URL]"],["26","vkontakte","VKontakte","http://vkontakte.ru/share.php?url\x3d[URL]\x26title\x3d[TITLE]\x26description\x3d[DESCRIPTION]"],
["27","baidu","Baidu","http://cang.baidu.com/do/add?it\x3d[TITLE]\x26iu\x3d[URL]\x26fr\x3dien\x26dc\x3d[DESCRIPTION]"],["28","mailru","Mail.ru","http://connect.mail.ru/share?url\x3d[URL]\x26title\x3d[TITLE]\x26description\x3d[DESCRIPTION]"],["29","hyves","Hyves","http://www.hyves.net/profilemanage/add/tips/?name\x3d[TITLE]\x26text\x3d[URL]\x26type\x3d12"],["33","xing","XING","https://www.xing.com/app/startpage?op\x3dhome;func_share\x3d1;tab\x3dlink;url\x3d[URL];force_dest\x3d1;message\x3d[DESCRIPTION]"],
["34","meinvz","MeinVZ","http://www.meinvz.net/Link/Share/?url\x3d[URL]\x26title\x3d[TITLE]\x26description\x3d[DESCRIPTION]"],["35","skyrock","Skyrock","http://www.skyrock.com/m/blog/share.php?url\x3d[URL]\x26description\x3d[DESCRIPTION]"],["36","viadeo","Viadeo","http://www.viadeo.com/?url\x3d[URL]\x26title\x3d[TITLE]\x26affiliate\x3d45584",{maxSymbols:140,shorten:!0}],["37","odnoklassniki","Odnoklassniki","http://www.odnoklassniki.ru/dk?st.cmd\x3daddShare\x26st.s\x3d1\x26st._surl\x3d[URL]\x26st.comments\x3d[DESCRIPTION]"],
["38","weibo","Sina Weibo","http://service.weibo.com/share/share.php?url\x3d[URL]\x26title\x3d[TITLE]",{maxSymbols:140}],["39","qzone","QZone","http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url\x3d[URL]\x26title\x3d[TITLE]"],["40","kaixin","Kaixin Repaste","http://www.kaixin001.com/rest/records.php?url\x3d[URL]\x26content\x3d[TITLE]\x26style\x3d11",{maxSymbols:140,shorten:!0}],["24","wordpress","WordPress","{{url}}/wp-admin/press-this.php?u\x3d[URL]\x26t\x3d[TITLE]\x26v\x3d4\x26s\x3d[DESCRIPTION]"],
["03","email",d.t("email"),"",{counter:!0,fake:!0}],["04",e.print,d.t(e.print),""],["06",e.favorites,d.t(e.favorites),""],["999","post",d.t(e.favorites),"",{hideFromPopUp:!0,counter:!0}],["998","post-share",d.t("share"),"",{hideFromPopUp:!0,counter:!0,fakeI18n:d.t("share")}],["99","clipboard","","",{hideFromPopUp:!0}],["997","share",d.t("share"),"",{hideFromPopUp:!0}],["998","more",d.t("more"),"",{hideFromPopUp:!0}]]),f=!0)};b.orderByRegion=function(b){var c=[],e=d.getChannelsByRegion(b);a.each(e,
function(a,b){n(c,b)});a.each(g,function(b,d){-1===a.indexOfArray(e,d.name)&&n(c,d.name)});return c};b.getPopularChannel=function(a){return b.orderByRegion(!0)[a-1]};b.get=function(b,c){var d;a.each(g,function(a,e){c===e[b]&&(d=e)});return d};b.getWithCounters=function(){return h("extra.counter")};b.getLookNative=function(){return h("extra.fake")};return b});r("url",["util","dom"],function(a,d){var e=/^(?:(https?:\/\/|\/\/|\s)|(..|\/|\?|#)|[^;:@=\.\s])/i,c=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,
b,g,f,h={};g=function(){var a,b;if(a=d.getBy("base")[0])a=a.getAttribute("href"),a.length&&"absolute"===h.getType(a)&&(b=h.normalize(a));return b};b=function(){var b,c,e=d.doc("location");a.each(d.getBy("link"),function(a,b){"canonical"===b.getAttribute("rel")&&(f=b.getAttribute("href"))});f&&"relative"===h.getType(f)&&(c=f.substr(0,1),b=g(),"/"===c||"."===c?(f=f.substr(1),b?(b=h.parseAbsoluteURL(b),f=b.shema+"://"+b.domain+"/"+f):f=e.protocol+"//"+e.host+"/"+f):(b||(b=h.prepareBaseURL()),f=b+"/"+
f))};h.getType=function(a){a=a.match(e);var b=null;a&&(b=a[1]?"absolute":"relative");return b};h.normalize=function(a){"/"===a.charAt(a.length-1)&&(a=a.slice(0,-1));return a};h.parseAbsoluteURL=function(a){var b=a.match(c);return b?{shema:b[1],domain:b[3],path:b[5],params:{query:b[6],hash:b[7]}}:a};h.parseHref=function(a){var b=document.createElement("a");b.href=a;return b};h.prepareBaseURL=function(){var a=h.parseAbsoluteURL(d.doc("location").toString()),b=a.shema+"://"+a.domain,c,e=a.path;a.path?
(c=a.path.charAt(a.path.length-1),"/"===c?a=b+a.path.slice(0,-1):(e=e.split("/"),e.pop(),a=b+e.join("/"))):a=b;return a};h.canonical={get:function(){a.isUndefined(f)&&b();return f}};return h});r("oo",["util"],function(a){var d={};d.defineClass=function(){var d;d=function(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.__super__=a.su=b.prototype};return function(c){var b;b="Object"===c.constructor.name?function(){}:c.constructor;c.inherit&&d(b,c.inherit);a.each(c,
function(a,c){"constructor"!==a&&"inherit"!==a&&(b.prototype[a]=c)});b.prototype.prop=function(b,c){var d;a.isFunction(this[b])||(c?this[b]=c:d=this[b]);return d};b.prototype.bindAll=function(){a.bindAll(this,arguments)};return b}}();return d});r("ga",["util","dom","pwConfig","globals"],function(a,d,e,c){var b,g;a={};var f,h,k=c.win,n,u;k._gaq=k._gaq||[];g=b=!1;f={enabled:!1};u=function(a,b){var c;if(a&&(c=RegExp("[\\?\x26#]"+b+"\x3d([^\x26#]*)"),c=c.exec(a),null!==c))return unescape(c[1])};h=function(a,
b,c){f.enabled&&k._gaq.push(["_trackSocial",c||"Po.st",a,b,f.pagePath])};n=function(a,c){b&&k._gaq.push(["_trackEvent","Po.st",a,c,void 0,g])};a.init=function(){var a=e.val("gaTrackEvents"),c=e.val("gaTrackSocialInteractions");a.hasOwnProperty("enabled")?(b=a.enabled,g=a.nonInteraction):b=a;c.hasOwnProperty("enabled")?(f.enabled=c.enabled,f.pagePath=c.pagePath):f.enabled=c};a.track=function(a,b,c){c=c||k.location.toString();switch(a){case "social":h(b,c);break;case "event":n(b,c)}};a.fbEvents=function(){f.enabled&&
(k.FB.Event.subscribe("edge.create",function(a){h("like",a,"Facebook")}),k.FB.Event.subscribe("edge.remove",function(a){h("unlike",a,"Facebook")}),k.FB.Event.subscribe("message.send",function(a){h("send",a,"Facebook")}))};a.twitterEvents=function(){f.enabled&&k.twttr.ready(function(){k.twttr.events.bind("tweet",function(a){var b;a&&(a.target&&"IFRAME"===a.target.nodeName&&(b=u(a.target.src,"url")),h("tweet",b,"Twitter"))})})};return a});r("proxy","util jsonp config enumeration dom pwConfig env pubsub status url channels".split(" "),
function(a,d,e,c,b,g,f,h,k,n,u){var l,q,m,v,p,y,z;c={};var w=[],s,t,A;l=f.shareServer+"/v1/aftershare";q=f.cdnServerNonSecure+"/share/share.html";m=f.cdnServerNonSecure+"/share/mobile_popup.html";v=f.shareServer+"/v1/status";p=f.shareServer+"/v1/counter";y=f.shareServer+"/v1/shorten";z=f.logServer+"/p";A=function(c,d){var m=g.val("version"),p=a.isDefined(m)?m:f.widgetBuildNumber,m=z,p={t:c,pub:g.val("publisherKey"),pu:d.pu||g.val("defaults.url"),pt:d.pt||g.val("defaults.title"),ru:b.doc("referrer"),
random:a.getTimeStamp(),v:p};d=a.mergeObjects(d,p);!0===k.optout()&&a.each(k.getRestrictedOptOutParams(),function(a,b){delete d[b]});m+=a.prepareQueryParams(d);"\x26"===m.charAt(m.length-1)&&(m=m.slice(0,-1));m=b.createElement("img",{className:e.cssClasses.pwLogImage,src:m});b.appendTo("html",m);b.removeNode(m)};t=function(a,b){w.push({name:a,params:b})};s=function(){w.length&&(a.each(w,function(a,b){A(b.name,b.params)}),w=[])};c.logEvent=function(a,b){0===k.optout()?t(a,b):A(a,b)};c.getUrl=function(b,
c){var d;switch(b){case "sharePoint":d=q;break;case "shareList":d=m}return d+a.prepareQueryParams(c)};c.fetchStatus=function(b,c){d.fetch(v,c||{},function(c){a.isFunction(b)&&(b(c),s())})};c.prepareURLForSharing=function(b,c,d,e,m){var f=e.tracking,p=u.get("id",c),p=a.getPropertyByPath(p,"extra.shorten"),t=g.val("track"),v="";b=n.parseHref(b);m?p=!1:a.isDefined(e.shorten)&&(p=e.shorten);!a.isUndefined(b)&&!p&&t&&f&&(v=d+"."+c,!0!==t?b.search=0<b.search.length?b.search+"\x26"+v:v:b.hash="#"+v);return b.href};
c.requestAfterShare=function(a,b){d.fetch(l,{publisherKey:a},function(a){b(a.html||"")})};c.fetchCounter=function(b,c,e){b.publisherKey&&(b=a.prepareQueryParams(b)+(c?c+"\x26":""),d.fetch(p,b,function(a){e(a)}))};c.getShortUrl=function(b,c,e,m){b={longUrl:c,sGUID:a.sGUID(),pub:e,sc:b};d.fetch(y,b,function(b){a.isFunction(m)&&m(b.url)})};return c});r("counter","util channels proxy enumeration pwConfig viewCore oo dom config pubsub".split(" "),function(a,d,e,c,b,g,f,h,k,n){var u;g={};var l={},q={};
u=function(b){a.each(d.getWithCounters(),function(a,c){b[c]||(b[c]=0)});return b};l.formatCount=function(a,b,c){a=Math.round(a/c*10)/10;4<a.toString().length&&(a=Math.round(a));return a+b};l.beautifyCount=function(a){var b=a.toString(),c=b.length,d=b;return d=4>c?b:7>c?l.formatCount(a,"K",1E3):10>c?l.formatCount(a,"M",1E6):l.formatCount(a,"B",1E9)};g.fetch=function(d,f,p,g){var k={},h={},l=b.val("publisherKey");d&&(d.action===c.dataloggerEvent.share&&(k[d.url]=d.channelSyncId?[d.channelSyncId]:[]),
d.publisherKey&&(l=d.publisherKey));a.isObjEmpty(k)&&a.each(f,function(b,d){var e=d.attributes,f=e.url;e.counter!==c.counter.none&&(k[f]=a.mergeToArray(k[f],d.withSyncIds()||[]))});a.each(p,function(a,b){var c=b.url;k[c]||(k[c]=[]);b.id&&!d&&k[c].push(b.id)});d&&d.url&&d.syncId&&k[d.url].push(d.syncId);a.isObjEmpty(k)||(d&&(h[d.url]=k[d.url],k={},k[d.url]=h[d.url]),a.each(k,function(b,c){var f={},p="";f.publisherKey=l;f.increment=!1;d&&(f.increment=d.increment||!1,!0===f.increment&&(f.channel=d.sharerName));
f.url=b;c&&c.length&&(p="sc\x3d"+a.uniq(c).join("\x26sc\x3d"));!q[b]||f.increment||d&&d.request?e.fetchCounter(f,p,function(c){c&&(c=u(c),q[b]=c);a.isFunction(g)&&g(b,q[b])}):a.isFunction(g)&&q[b]&&g(b,q[b]);q[b]||(q[b]={})}))};g.CounterClass=f.defineClass({constructor:function(b){this.domNode=b.domNode;this.channelName=b.channel||this.getChannelName();this.url=b.url||this.getUrl();a.isDefined(b.bubbleCounter)&&this.channelName!==c.post&&this.channelName!==c.postShare&&a.getPropertyByPath(d.get("name",
this.channelName),"extra.nativeImpl")&&(this.id=a.getPropertyByPath(d.get("name",this.channelName),"id"));this.bindAll("update");this.subscribe()},subscribe:function(){n.subscribe("counters.update",this.update)},update:function(b,d){var e=-1<a.indexOfArray([c.post,c.postShare],this.channelName)?"total":this.channelName;d.url===this.url&&this.domNode&&a.isDefined(d.values[e])&&h.html(this.domNode,l.beautifyCount(d.values[e]))},getUrlAttribute:function(a){return k.getAttrValue(a,"url")},getUrl:function(){var a=
this.getUrlAttribute(this.domNode),c;a||(c=h.getParentByClassList(this.domNode,k.postWidgetAliases),a=b.val("defaults.url"),c&&this.getUrlAttribute(c)&&(a=this.getUrlAttribute(c)));return a},getChannelName:function(){return k.getAttrValue(this.domNode,"channel")||c.postShare},updateUrl:function(a){this.url=a}});return g});r("emailFrame","util oo dom enumeration env pubsub".split(" "),function(a,d,e,c,b,g){var f,h={};f=b.cdnServer+"/classic-email.html";h.EmailFrame=d.defineClass({constructor:function(){this.bindAll("onCloseIconClick",
"showInCenter");this.render();this.bindEvents()},render:function(){this.overlayNode=e.createElement("div",{className:"ra1-pw-emailoverlay",style:{display:"none"}});this.closeIconNode=e.createElement("div",{className:"ra1-pw-emailclose",style:{width:"54px",height:"30px",zIndex:10002}});e.appendTo("body",this.overlayNode);e.appendTo("body",this.closeIconNode)},bindEvents:function(){e.addEvent(this.closeIconNode,c.events.click,this.onCloseIconClick);e.addEvent(e.win(),c.events.resize,this.showInCenter)},
show:function(b){var c=this;this.widgetOptions={url:b.url,publisherKey:b.pubKey};this.iframeNode=e.createElement("iframe",{style:{position:"fixed",border:"0px",zIndex:10001,height:"515px",width:"575px",left:"0px",top:"0px"},allowTransparency:!0,frameBorder:0,src:f+a.prepareQueryParams(b)});e.attr(this.iframeNode,"scrolling","no");e.display(this.closeIconNode,"show");e.display(this.overlayNode,"show");e.insertBefore(this.overlayNode,this.iframeNode);this.showInCenter();setTimeout(function(){e.setStyle(c.iframeNode,
{border:"0px"})},500)},onCloseIconClick:function(){e.display(this.overlayNode,"hide");e.display(this.closeIconNode,"hide");e.removeNode(this.iframeNode);this.widgetOptions.request=!0;g.publish("counters.fetch",this.widgetOptions)},showInCenter:function(){var b,c,d;this.iframeNode&&(d=this.iframeNode,c=e.win("innerHeight")||e.doc("documentElement.clientHeight"),b=e.win("innerWidth")||e.doc("documentElement.clientWidth"),b=a.toInt(b/2-d.offsetWidth/2),c=a.toInt(c/2-d.offsetHeight/2),e.setStyle(d,{left:b+
"px",top:c+"px"}),e.setStyle(this.closeIconNode,{left:b+575-54+"px",top:c+"px"}))}});return h});r("listView","util oo dom channels i18n globals enumeration config env".split(" "),function(a,d,e,c,b,g,f,h,k){var n={},u=k.isMobile?9:11;n.ListView=d.defineClass({targetNode:g.notDefined,constructor:function(a,b,c){this.targetNode=a;this.onClickHandler=b.onClickHandler;this.widgetViewType=c;this.init()},init:function(){this.bindAll("onChannelClick","expand")},populateChannels:function(b,d){var e=c.orderByRegion(),
g;b&&e.push(f.more);e=b&&d.p_share_popup?a.unMergeArrays(e,d.p_share_popup,!0):!b&&d.more_popup?a.unMergeArrays(e,d.more_popup,!0):a.unMergeArrays(e,d.exclude.popup);b&&(g=a.indexOfArray(e,f.more),e=e.slice(0,u),-1!==g&&e.push(f.more));return e},show:function(b,d){var m=!1,g=[],p=this.populateChannels(b,d),h=this,n=f.size.small;k.isMobile&&this.widgetViewType!==f.viewType.list&&(n=f.size.large);a.each(p,function(a,b){b!==f.more?h.pushChannelToList(g,c.get("name",b)):m=!0});m&&h.pushChannelToList(g,
c.get("name",f.more));p=a.template('\x3cul class\x3d"ra1-pw-popup__ul pw-size-{{iconSize}}"\x3e{{list}}\x3c/ul\x3e',{iconSize:n,list:g.join(" ")});this.setTargetNodeHTML(p);e.addEvent(e.getBy("a",this.targetNode),"click",this.onChannelClick)},pushChannelToList:function(c,d){var e='\x3cli\x3e\x3ca href\x3d"" data-channel\x3d"{{name}}"\x3e\x3ci class\x3d"pw-icon ra1-pw-icon-{{name}}"\x3e\x3c/i\x3e\x3cspan class\x3d"ra1-pw-txt ra1-pw-txt-{{name}}"\x3e{{displayName}}\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e',
g=d.displayName;d.name===f.more&&k.isMobile&&(e='\x3cli class\x3d"more-services"\x3e\x3ca data-channel\x3d"{{name}}" href\x3d"" class\x3d"more-services__item"\x3e{{displayName}}\x3c/a\x3e\x3c/li\x3e',g=b.t("moreServices"));a.getPropertyByPath(d,"extra.disabled")||c.push(a.template(e,{displayName:g,attrPrefix:h.attrPrefix,name:d.name}))},onChannelClick:function(a,b){var d=e.attr(b,"data-channel"),f=c.get("name",d);if(this.onClickHandler)this.onClickHandler(d,f,b)},getHeight:function(){var b=e.getBy("li",
this.targetNode),c=a.toInt(b.length/3);return e.getElementSize(b[0]).height*c},setTargetNodeHTML:function(a){e.html(this.targetNode,a)}});return n});r("popup","util oo config i18n dom pubsub channels enumeration env listView pwConfig".split(" "),function(a,d,e,c,b,g,f,h,k,n,u){f={};var l="ra1-pw-popup"+(k.isMobile?" ra1-pw-"+(k.isMobile.tablet?"tablet":"mobile"):""),q='\x3cdiv class\x3d"ra1-pw-share-offer"'+(k.isMobile?' style\x3d"max-height: 300px; overflow: hidden;"':"")+"\x3e{{offer}}\x3c/div\x3e";
f.PopupView=d.defineClass({mode:h.viewType.popup,constructor:function(a){this.options=a;this.init()},init:function(){this.bindAll("hide","closePopup","onChannelClick","onShareAgain","clearTimeOut","onMouseOut","expand");this.render();this.bindEvents();this.subscribe()},subscribe:function(){g.subscribe("hide.popup",this.onMouseOut);g.subscribe("clear.timeOut",this.clearTimeOut)},bindEvents:function(){b.addEvent(this.getNode(".ra1-pw-popup-close"),h.events.click,this.closePopup);k.isMobile||(b.addEvent(this.domNode,
h.events.mouseover,this.clearTimeOut),b.addEvent(this.domNode,h.events.mouseout,this.onMouseOut))},getCoreClass:function(){var a=l;this.isMobile(function(){k.isMobile.tablet||(a+=" ra1-pw-mobile-true")});return a},isMobileEnabled:function(a){k.isMobile&&u.val("mobileOverlay")&&a()},render:function(){var d=a.template('\x3cdiv class\x3d"ra1-pw-popup-i"\x3e\x3cdiv class\x3d"ra1-pw-popup-o"\x3e\x3cb class\x3d"ra1-pw-popup-title"\x3e\x3cspan class\x3d"ra1-pw-popup-title-text"\x3e{{title}}\x3c/span\x3e\x3ca class\x3d"ra1-pw-popup-close"\x3e\x3c/a\x3e\x3c/b\x3e\x3cdiv class\x3d"ra1-pw-popup-body"\x3e\x3cdiv class\x3d"ra1-pw-popup-area"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"ra1-pw-popup-footer"\x3e\x3ca target\x3d"_blank" href\x3d"{{poweredByLink}}" class\x3d"ra1-pw-powered"\x3e{{poweredBy}}\x3c/a\x3e\x3ca target\x3d"_blank" href\x3d"{{privacyLink}}" class\x3d"ra1-pw-privacy"\x3e{{privacy}}\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',
{poweredByLink:e.poStLink,privacyLink:e[k.isMobile?"privacyLinkMobile":"privacyPolicyLink"],poweredBy:c.t("powered"),privacy:c.t("privacy"),title:c.t("shareTitle")}),f=this,p="body";this.domNode=b.createElement("div",{className:this.getCoreClass(),innerHTML:d,style:{display:h.none}});this.isMobile(function(){f.overlayNode=b.createElement("div",{className:"ra1-pw-overlay",style:{display:"block"}});b.appendTo("body",f.overlayNode)});this.options.parentNode?p=this.options.parentNode[0]:this.overlayNode&&
(p=this.overlayNode);b.appendTo(p,this.domNode);this.popupBody=this.getNode(".ra1-pw-popup-area");this.popupTitle=this.getNode(".ra1-pw-popup-title-text");this.popupTop=this.getNode(".ra1-pw-popup-o");this.ListView=new n.ListView(this.popupBody,{onClickHandler:this.onChannelClick})},getNode:function(a){return b.getBy(a,this.domNode)[0]},setPopupBodyHeight:function(){var a=this;this.isMobileEnabled(function(){b.setStyle(a.popupBody,{height:a.popupBodyHeight+"px"})})},renderSharingList:function(a){var d=
this,e;this.isMobileEnabled(function(){b.display(d.overlayNode);k.isMobile.tablet&&(a=!1)});e=a?"pw-popup-type_simplelist":"ra1-pw-popup-area-scroll pw-popup-type_extendlist";this.lastSharingFromMode=a?h.viewType.popup:h.viewType.popupList;this.ListView.show(a,this.options.services);this.setTitle(c.t("shareTitle"));b.setClass(this.domNode,this.getCoreClass()+" "+e);k.isMobile&&b.removeNode(this.getNode(".ra1-pw-tools"));this.showDomNode();a?(this.resetBodyHeight(),this.popupBodyHeight=b.getElementSize(this.popupBody).height,
this.setPopupBodyHeight()):k.isMobile&&!this.options.widgetViewType&&(e=400,k.isMobile.tablet||(e=b.getWindowHeight()-107,this.popupBodyHeight&&b.addClass(d.popupBody,"ra1-pw-anim-height")),b.setStyle(d.popupBody,{height:e+"px"}),this.popupBody.scrollTop=10);this.isMobileEnabled(function(){if(!k.isMobile.tablet)b.onTransitionEnd(d.popupBody,function(){b.replaceClass(d.popupBody,"ra1-pw-anim-height","")})});this.setPageTitle(c.t("shareTitle"));this.changePopupPosition()},setPageTitle:function(a){this.options.widgetViewType&&
"html"!==u.val("mode")&&k.isMobile&&b.setTitle(c.t(a))},isMobile:function(b){(k.isMobile&&!this.options.widgetViewType||k.isMobile&&a.prop(this.options.widgetAttributes,"afterShare.center"))&&b()},renderAfterShare:function(d){var e=this,f;f=this.options.widgetAttributes;var g=a.prop(f,"afterShare.center"),l=c.t("sharingSuccessful");this.isMobile(function(){b.display(e.overlayNode)});d=a.template(q,{offer:d.replace("[R1_FLASH]",a.isFlashInstalled()?"f":"")});b.setClass(this.domNode,this.getCoreClass()+
" pw-popup-type_aftershare");k.isMobile?(d=a.template("{{afterShareOffer}}",{afterShareOffer:d}),this.getNode(".ra1-pw-tools")||b.insertBefore(this.popupTop,b.createElement("div",{className:"ra1-pw-tools",innerHTML:a.template('\x3ca href\x3d"#" class\x3d"ra1-pw-tools__again"\x3e{{shareAgain}}\x3c/a\x3e\x3ca class\x3d"ra1-pw-tools__close"\x3e{{close}}\x3c/a\x3e',{shareAgain:c.t("shareAgain"),close:c.t("close")})}))):d=a.template('\x3cdiv class\x3d"ra1-pw-share-txt"\x3e\x3ca href\x3d"#" class\x3d"ra1-pw-small-btn ra1-pw-tools__again"\x3e\x3cspan\x3e\x3cspan class\x3d"ra1-pw-share-again"\x3e{{shareAgain}}\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3cp class\x3d"ra1-pw-share-txt-text"\x3e{{successfullyShared}}\x3c/p\x3e\x3c/div\x3e{{afterShareOffer}}',
{successfullyShared:this.options.afterShareText||c.t("successfullyShared"),shareAgain:c.t("shareAgain"),afterShareOffer:d});d=a.template('\x3cdiv class\x3d"ra1-pw-share-success"\x3e{{body}}\x3c/div\x3e',{body:d});k.isMobile&&(l=c.t("successfullyShared"),!1===this.options.afterShareText?l="":a.isUndefined(this.options.afterShareText)||(l=this.options.afterShareText));this.setPageTitle(c.t("successfullyShared"));this.setTitle(l);this.setBody(d);f.shareAgain&&(!k.isMobile||u.val("mobileOverlay")||this.options.widgetViewType)||
b.display(this.getNode(".ra1-pw-tools__again"),"hide");!1===f.afterShareText&&b.display(this.getNode(".ra1-pw-share-txt-text"),"hide");(f=this.getNode("img"))?f.onload=function(){e.hasCoords()&&e.showDomNode();g||e.changePopupPosition()}:(this.showDomNode(),this.changePopupPosition());this.resetBodyHeight();a.each(b.getBy("script",this.domNode),function(a,b){eval(b.innerHTML)});b.addEvent(e.getNode(".ra1-pw-tools__again"),"click",e.onShareAgain,!0);k.isMobile&&(b.addEvent(this.getNode(".ra1-pw-tools__close"),
h.events.click,this.closePopup,!0),this.showDomNode());this.popupBodyHeight=b.getElementSize(this.popupBody).height;this.clearTimeOut();this.setPopupBodyHeight();e.hasCoords()||this.showDomNode();g&&this.setOnCenter()},showDomNode:function(){b.display(this.domNode)},onShareAgain:function(){this.mode=h.viewType.popupList;this.renderSharingList(!1)},setTitle:function(a){b.html(this.popupTitle,a)},setBody:function(a){b.html(this.popupBody,a)},show:function(a){this.options=a;a.mode&&(this.mode=a.mode);
switch(this.mode){case h.viewType.aftershare:this.renderAfterShare(this.options.afterShare.offer);break;case h.viewType.popupList:this.renderSharingList(!1);break;case h.viewType.popup:this.renderSharingList(!0)}},closePopup:function(){this.options.widgetViewType&&k.isMobile&&!this.options.standalone&&a.closeThisWindow();this.hide()},hide:function(){var c=this;this.clearTimeOut();if(!b.isHidden(this.domNode)&&(b.display(this.domNode,"hide"),this.setTitle(" "),this.setBody(" "),this.mode===h.viewType.aftershare&&
a.isFunction(this.options.onHideAfterShare)))this.options.onHideAfterShare();this.isMobile(function(){b.display(c.overlayNode,"hide")})},onChannelClick:function(a,b,c){a===h.more&&this.expand();g.publish("button.click",{name:a,coords:this.options.coords,buttonSizePX:this.options.buttonSizePX,node:[c]},this.options.widgetInstance);this.clearTimeOut()},onMouseOut:function(a,b){this.clearTimeOut();this.mode===h.viewType.popup&&(this.timeoutId=setTimeout(this.hide,this.options.widgetInstance.attributes.hidePopupDelay))},
clearTimeOut:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},expand:function(){this.clearTimeOut();this.options.widgetViewType!==h.viewType.list?(this.mode===h.viewType.aftershare&&this.hide(),this.mode=h.viewType.popupList,this.renderSharingList(!1)):this.hide()},resetBodyHeight:function(){b.setStyle(this.popupBody,{height:""})},hasCoords:function(){return this.options.coords||a.prop(this.options.widgetAttributes,"afterShare.baseElement")},getCoords:function(){var c=
this.options.coords,d=this.options.widgetAttributes,e=a.prop(d,"afterShare.offset"),f=[0,0],d=a.prop(d,"afterShare.baseElement");this.mode===h.viewType.aftershare&&(a.isArray(e)&&(f=e),a.isFunction(e)&&(f=e(this.domNode,d)));d&&(c=b.getElementOffset(d),c={left:c.left+f[0],top:c.top+d.offsetHeight+f[1]});return c},changePopupPosition:function(){var c,d,e,f,g="pw-popup-side_left",l=this.getCoords();!k.isMobile&&l&&(d=b.getClientOffset(),k.isMobile&&u.val("mobileOverlay")||this.mode===h.viewType.popupList?
this.setOnCenter():(f=b.getScrollPosition(),c=d.h+f.y,d=d.w+f.x,e=this.domNode.offsetHeight,f=this.domNode.offsetWidth,l.top+e>c&&e<c?(c=l.top-e-(this.options.buttonSizePX?this.options.buttonSizePX[1]:0),0>c&&(c=0)):c=l.top,l.left+f>d&&f<d?(f=l.left-f+(this.options.buttonSizePX?this.options.buttonSizePX[0]:0),0>f&&(f=0),g="pw-popup-side_right"):f=l.left,b.addClass(this.domNode,g)),a.isDefined(f)&&a.isDefined(c)&&b.setStyle(this.domNode,{left:f+"px",top:c+"px"}))},setOnCenter:function(){var c=b.getClientOffset(),
d=b.getScrollPosition();b.setStyle(this.domNode,{left:a.toInt(c.w/2)-a.toInt(this.domNode.offsetWidth/2)+"px",top:d.y+(a.toInt(c.h/2)-a.toInt(this.domNode.offsetHeight/2))+"px"})}});return f});r("viewCore","oo config util dom enumeration pwConfig".split(" "),function(a,d,e,c,b,g){var f,h={},k;f=[{s:"pw_widget",r:"pw-widget"},{s:"pw_size_16",r:"pw-size-small"},{s:"pw_size_24",r:"pw-size-medium"},{s:"pw_size_32",r:"pw-size-large"},{s:"pw_counter_true",r:"pw-counter-show"},{s:"pw_counter_false",r:"pw-counter-none"},
{s:"pw_copypaste_true",r:"pw-copypaste-true"},{s:"pw_copypaste_false",r:"pw-copypaste-false"},{s:"pw_vertical",r:"pw-vertical"}];k=function(a){return-1<e.indexOfArray([b.counter.horizontal,b.counter.vertical,b.counter.none],a)};h.ViewClass=a.defineClass({archVersion:d.widgetVersion,domNode:null,viewType:b.viewType.button,attrsNotDefinedByUser:[],constructor:function(){},prepareAttributes:function(a,h){var l=this,q=[],m;l.attrsNotDefinedByUser=[];a=a||c.classList(l.domNode).join(" ");this.viewType===
b.viewType.widget&&(-1<a.indexOf("pw_counter_buttons")&&-1<a.indexOf("pw_vertical")&&(a=a.replace("pw_counter_buttons","pw-counter-vertical")),e.each(f,function(b,c){a=a.replace(c.s,c.r)}),e.each(c.getBy("a",this.domNode),function(a,b){var d=c.getNodeText(b);"pw_title"===b.className&&(l.attributes.title=d,c.removeNode(b));"pw_url"===b.className&&(l.attributes.url=d,c.removeNode(b));"pw_separator"===b.className&&("?"===d&&g.update({track:"query"},!0),c.removeNode(b))}));m=d[l.viewType+"Attributes"];
l.prop("viewType")===b.viewType.widget&&(e.each(d.replaceAttributes.widget,function(b,c){a=a.replace(c.s,c.r)}),-1<a.indexOf(d.cssClasses.counterLookNative)&&(a=a.replace(d.cssClasses.counterLookNative,""),this.setCounterLookNative()),e.each(a.split(" "),function(a,b){-1<b.indexOf(d.cssClasses.pwWidgetCore)&&(b=e.replaceAll(b,"_","-"));q.push(b)}),a=q.join(" "));e.each(m,function(c,f){var h=l.attributes[f.name],m=g.isDefinedByUser("defaults."+f.name),w,s;f.definedAsClass&&(s=d.getPropFromClass(f.name,
a,d.widgetVersion),"share-popups"===f.name&&s&&(s=!0),!s&&l.prop("viewType")===b.viewType.button&&f.name===b.counter.name&&(s=d.getPropFromClass("counterButton",a,d.widgetVersion)))&&(s=b.counter.show);if(w=d.getAttrValue(l.domNode,f.name))s=w,f.name===b.counter.name&&"false"===s&&(s=b.counter.none);s||(f.defaultValue&&(s=e.hasProperty(l.attributes,f.name)?h:f.defaultValue),(!m&&l.prop("viewType")===b.viewType.widget||l.prop("viewType")===b.viewType.button)&&l.attrsNotDefinedByUser.push(f.name));
f.name===b.counter.name&&(l.prop("viewType")===b.viewType.widget&&(!h&&!k(s)||h&&!k(h))&&(s=l.attributes.layout),l.prop("viewType")===b.viewType.button&&(s||(s=b.counter.none),s!==b.counter.none&&(s=h===b.counter.none?l.options.attributes.layout:h)));s&&("true"===s&&(s=!0),"false"===s&&(s=!1),f.defaultsPath?e.prop(l.attributes,f.defaultsPath,s):f.name===b.pinterestImage?l.attributes.image=s:l.attributes[f.name]=s)});l.prop("viewType")===b.viewType.button&&e.each(d.replaceAttributes.button,function(b,
c){a=a.replace(c.s,c.r)});h&&h(a);return a},setClassList:function(a){var f=this,g=[],k=this.attributes,h=[],v=this.viewType,p,y;switch(v){case b.viewType.widget:y=d.widgetAttributes;p=d.widgetClassList+"ra1-pw-classicWidget ";break;case b.viewType.button:p=d.cssClasses.pwButton,y=d.buttonAttributes,p=p+" "+p+"-"+this.channelName+" ",this.look===b.look.nativ&&(p=d.cssClasses.nativeContainer+" "+p),p=p+d.cssClasses.buttonTypePrefix+this.look+" "}e.each(y,function(a,c){var d;c.definedAsClass&&(d=k[c.name],
e.isDefined(d)&&d!==b.counter.none&&h.push(e.template(c.definedAsClass,{value:d})))});v===b.viewType.widget&&((this.has.lookNativeButtons||this.has.nativeButtons)&&h.push(d.cssClasses.lookNativeWidget),this.attributes.counterLook===b.look.nativ&&h.push(d.cssClasses.counterLookNative));v===b.viewType.button&&(this.look===b.look.looknative&&h.push(d.cssClasses.lookNativeButton),this.isTransparent&&h.push(d.cssClasses.transparentButton));e.each(a.split(" "),function(a,c){c.substring(0,2)!==d.cssClasses.pwWidgetCore&&
c!==d.cssClasses.lookNativeButton&&(g.push(c),v===b.viewType.widget&&f.nodeMarker.push("."+c))});g.length&&h.push(g.join(" "));c.setClass(this.domNode,p+h.join(" "))}});return h});r("nativeButton","util dom i18n config enumeration pwConfig ga proxy channels globals".split(" "),function(a,d,e,c,b,g,f,h,k,n){var u;g={};var l,q,m=n.win,v={};u={twitter:"\x3ca href\x3d'https://twitter.com/share' data-text\x3d'{{title}}' class\x3d'twitter-share-button' data-count\x3d'{{counter}}' data-url\x3d'{{url}}' data-lang\x3d'{{lang}}' data-via\x3d'{{via}}'\x3eTweet\x3c/a\x3e",
facebook:"\x3cdiv class\x3d'fb-like' data-href\x3d'{{url}}' data-send\x3d'false' data-layout\x3d'{{counter}}' data-width\x3d'70' data-height\x3d'65' data-show-faces\x3d'false' data-font\x3d'arial'\x3e\x3c/div\x3e",googleplus:"\x3cdiv class\x3d'g-plusone' data-href\x3d'{{url}}' data-annotation\x3d'{{counter}}' data-size\x3d'{{size}}'\x3e\x3c/div\x3e",pinterest:"\x3ca href\x3d'//pinterest.com/pin/create/button/?url\x3d{{url}}\x26media\x3d{{image}}' class\x3d'pin-it-button' count-layout\x3d'{{counter}}'\x3e\x3cimg border\x3d'0' src\x3d'//assets.pinterest.com/images/PinExt.png' title\x3d'Pin It' /\x3e\x3c/a\x3e"};
l={facebookButtonsCount:0,facebookButtonsPrevCount:0,inreaseFacebookInterval:n.notDefined,load:function(b,c,e){var f;a.isDefined(v[b])?f=setInterval(function(){2===v[b]&&(a.getPropertyByPath(e,"hasScript")&&e.hasScript(),a.getPropertyByPath(e,"success")&&e.success(),clearInterval(f))},100):(v[b]=1,d.loadScript(c,function(){v[b]=2;a.getPropertyByPath(e,"scriptLoaded")&&e.scriptLoaded();a.getPropertyByPath(e,"success")&&e.success()}))},facebook:function(){var a=this,b;b=function(){m.FB.init({status:!0,
cookie:!0,xfbml:!0});f.fbEvents()};a.load("facebook","//connect.facebook.net/"+(e.getBCP47tag()||"en_US")+"/all.js",{success:function(){a.facebookButtonsCount++}});a.inreaseFacebookInterval||(a.inreaseFacebookInterval=setInterval(function(){a.facebookButtonsPrevCount===a.facebookButtonsCount&&m.FB&&(b(),a.facebookButtonsCount=0,a.facebookButtonsPrevCount=0,clearInterval(a.inreaseFacebookInterval));a.facebookButtonsPrevCount=a.facebookButtonsCount},100))},linkedin:function(){m.IN?m.IN.init():this.load("linkedin",
"//platform.linkedin.com/in.js")},pinterest:function(){d.loadScript("//assets.pinterest.com/js/pinit.js")},googleplus:function(){m.gapi?m.gapi.plusone.go():(m.___gcfg=m.___gcfg||{lang:e.getBCP47tag().replace("_","-")},this.load("googleplus","https://apis.google.com/js/plusone.js"))},twitter:function(){var a=function(){m.twttr.widgets?m.twttr.widgets.load():setTimeout(a,1)};m.twttr?a():m.twttr=function(a,b,c){var d,e=a.getElementsByTagName(b)[0];if(!a.getElementById(c))return a=a.createElement(b),
a.id=c,a.src="//platform.twitter.com/widgets.js",e.parentNode.insertBefore(a,e),m.twttr||(d={_e:[],ready:function(a){d._e.push(a)}})}(document,"script","twitter-wjs");f.twitterEvents()}};q={facebook:function(a){var c="button";a.counter===b.counter.horizontal?c="button_count":a.counter===b.counter.vertical&&(c="box_count");return{counter:c}},googleplus:function(a){var c=b.size.medium;a.counter===b.counter.vertical&&(c="tall");return{size:c,counter:a.counter!==b.counter.none?"bubble":b.counter.none}},
twitter:function(a){var b={lang:e.getBCP47tag(),size:a.size,counter:a.counter,title:a.title,via:a.services.twitter.via};"-"===a.services.twitter.via&&(b.via="");return b},pinterest:function(a){return{image:a.image,counter:a.counter}},render:function(b,c,d){var e,f={},t=c.url;e=u[b];c.shortUrl?t=c.shortUrl:b===k.get("id","02").name&&(t=h.prepareURLForSharing(t,k.get("name",b).id,a.sGUID(),d.transformations,!0));f.url=t;f=a.mergeObjects(this[b](c),f);return a.template(e,f)}};g.insert=function(e,f,g,
h){var v,t;v=d.createElement("span");e===k.get("id","07").name?(h=d.createElement("span"),d.addClass(h,"pw-button__native"),t=d.createElement("script"),d.attr(t,"type","IN/Share"),d.attr(t,"data-url",g.url),g.counter===b.counter.vertical?d.attr(t,"data-counter","top"):g.counter!==b.counter.none&&d.attr(t,"data-counter","right"),h.appendChild(t),v.appendChild(h)):(g=q.render(e,g,h),d.insertHTML(v,a.template(c.templates.buttonNative,{code:g,className:"pw-button__native"})));d.insertBefore(f,v);d.removeNode(f);
m.FB&&e===k.get("id","01").name&&m.FB.XFBML.parse();l[e]();return v};return g});r("button","dom util config oo enumeration viewCore pubsub channels i18n nativeButton proxy".split(" "),function(a,d,e,c,b,g,f,h,k,n,u){var l,q;k={};l=e.templates;q=[{from:"facebook_button",to:"facebook-like"},{from:"googleplus_button",to:"google-plus"},{from:"linkedin_button",to:"linkedin-share"},{from:"twitter_button",to:"twitter-twitt"},{from:"pinterest_button",to:"pinterest-share"},{from:"share",to:"post-share"},{from:"mail",
to:"email"}];k.tools={getButtonClassName:function(a){return e.cssClasses.pwButton+"-"+a},getLook:function(a,c){var f=b.look.square;c===b.postShare||d.isNull(c.match(e.regexpPatterns.nativeButton))||(f=b.look.nativ);e.getPropFromClass(b.look.looknative,a,e.widgetVersion)&&-1<d.indexOfArray(h.getLookNative(),c)&&(f=b.look.looknative);c===b.postShare&&(f=b.postShare);return f},resolveName:function(a){d.each(q,function(b,c){c.from===a&&(a=c.to)});return a.replace("_","").replace(".","")}};k.ButtonClass=
c.defineClass({inherit:g.ViewClass,name:"",channelName:"",channelOptions:{},isTransparent:!1,isDead:!1,look:b.look.square,values:{counter:0},constructor:function(a){this.options=a;this.domNode=a.domNode;this.attributes=d.mergeObjects(a.attributes,{});this.widgetData=a.widgetData;this.triggers={};this.channelName=a.channelName;this.look=a.look;this.name=this.channelName;a.archVersion&&(this.archVersion=a.archVersion);this.bindAll("onButtonClick","onButtonMouseOver","onButtonMouseOut","updateCounter");
this.render();this.bindEvents()},render:function(){var c=this,f=a.classList(c.domNode).join(" "),g;-1<f.indexOf(e.cssClasses.transparentButton)&&(this.isTransparent=!0,this.look=b.look.postShare,this.channelName=b.postShare,f=f.replace(e.cssClasses.transparentButton,""));this.channelOptions=h.get("name",this.channelName);!this.channelOptions||d.getPropertyByPath(this.channelOptions,"extra.disabled")?(this.isDead=!0,this.attributes.counter=b.counter.none):(f=this.prepareAttributes(f),this.look===b.look.nativ?
this.widgetData.transformations.shorten?(g=this.attributes.url,u.getShortUrl(this.channelName,g,this.widgetData.publisherKey,function(a){c.updateAttribute("shortUrl",a);c.createButton(f)})):c.createButton(f):c.createButton(f))},createButton:function(c){var g="",k=g="",y,k=l.buttonCounterDefault;this.channelName===b.post&&-1<d.indexOfArray(this.attrsNotDefinedByUser,b.counter.name)&&-1===d.indexOfArray(this.options.widgetData.attrsNotDefinedByUser,b.counter.name)&&(this.attributes.counter=this.options.attributes.counter);
(this.look===b.look.looknative||this.look===b.look.nativ||this.channelName===b.postShare)&&this.options.attributes.counter!==b.counter.none&&-1<d.indexOfArray(this.attrsNotDefinedByUser,b.counter.name)&&(this.attributes.counter=this.options.attributes.counter);if(this.look===b.look.nativ)this.channelName===h.get("id","32").name&&d.isUndefined(this.attributes.image)||(this.domNode=n.insert(this.channelName,this.domNode,this.attributes,this.options.widgetData));else{g=d.template(l.buttonIcon,{channel:this.channelName.split("-")[0]});
if(this.look===b.postShare||this.look===b.look.looknative)g=d.template(l.buttonLookNative,{label:d.getPropertyByPath(this.channelOptions,"extra.fakeI18n")||this.channelOptions.displayName,icon:g,type:this.look});this.attributes.counter!==b.counter.none&&-1===d.indexOfArray(h.getWithCounters(),this.channelName)&&(this.attributes.counter=b.counter.none);this.attributes.counter!==b.counter.none&&(this.attributes.counter===b.counter.vertical&&(k=l.buttonCounterTop,y=!0),k=d.template(k,{count:this.values.counter}),
g=y?k+g:g+k);a.insertHTML(this.domNode,g);this.attributes.counter!==b.counter.none&&f.publish("counters.add",{domNode:a.getBy(e.getCssQuerySelector("counterNode",this.archVersion),this.domNode)[0],url:this.options.attributes.url,channel:this.channelName})}this.isPostButton()&&a.attr(this.domNode,"aria-haspopup","true");this.setClassList(c);f.publish("button.ready")},updateNativeButton:function(c){this.look===b.look.nativ&&(this.attributes=d.mergeObjects(c,this.attributes),this.domNode=n.insert(this.channelName,
this.domNode,this.attributes,this.options.widgetData),this.setClassList(a.classList(this.domNode).join(" ")))},bindEvents:function(){this.look!==b.look.nativ&&(this.isPostButton()?(this.addEvent(this.attributes.click?b.events.click:b.events.mouseover),this.addEvent(b.events.mouseout)):this.addEvent(b.events.click))},addEvent:function(c){var d=c===b.events.click?"onButtonClick":"onButtonMouseOver";c===b.events.mouseout&&(d="onButtonMouseOut");a.addEvent(this.domNode,c,this[d])},onButtonMouseOver:function(a,
b){f.publish("button.hover",this.getPublishOptions(b),this.options.owner);f.publish("clear.timeOut")},onButtonMouseOut:function(a,b){f.publish("hide.popup")},isPostButton:function(){return-1<b.postShare.indexOf(this.channelName)},onButtonClick:function(a,b){var c={pinterestImage:this.attributes.image},c=d.mergeObjects(c,this.getPublishOptions(b));f.publish("button.click",c,this.options.owner)},getPublishOptions:function(b){var c=a.getElementOffset(b);return{coords:{left:c.left,top:c.top+b.offsetHeight},
buttonSizePX:e.buttonSize[this.attributes.size],node:[this.domNode],name:this.channelName}},getName:function(){return this.channelName},isPinterestButton:function(){return h.get("id","32").name===this.getName()},isNative:function(){return this.look===b.look.nativ},isLookNative:function(){return this.look===b.look.looknative},hasNativeImpl:function(){return d.getPropertyByPath(h.get("name",this.channelName),"extra.nativeImpl")},hasCounter:function(){return this.attributes.counter!==b.counter.none},
updateAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},getId:function(){return this.channelOptions.id},getWidth:function(){var c=a.getBy("span",this.domNode),e;d.each(c,function(b,c){if(-1!==c.className.indexOf("pw-button-type"))return e=a.getElementSize(c).width,!1});this.attributes.counter===b.counter.horizontal&&(e+=a.getElementSize(a.getBy(".pw-button-counter",this.domNode)[0]).width);return e}});return k});r("jsApi","util config enumeration dom support pubsub pwConfig channels globals".split(" "),
function(a,d,e,c,b,g,f,h,k){var n={},u,l,q,m;n.publicApi={};u=function(a,b){return d.attrPrefix+a+'\x3d"'+b+'"'};q=function(b){return a.template(d.templates.buttonDefault,{channel:b.channel,classes:b.classes||"",attrs:b.attrs||""})};m=function(c,e){var f="";a.each(d.buttonAttributes,function(a,d){c=b.fixPinterest(c);if(c===d.name)return f=u(c,e),!1});return f};l=function(b,f,g){a.each(d.widgetAttributes,function(h,k){if(k.name===f)return a.isObject(g)&&f===e.counter.name?(a.isDefined(g.look)&&c.attr(b,
d.attrPrefix+f+"-look",g.look),a.isDefined(g.layout)&&c.attr(b,d.attrPrefix+f,g.layout)):c.attr(b,d.attrPrefix+f,g),!1});return""};n.createWidgetButtons=function(b){var c=[],e=[];b&&a.each(b,function(b,f){var g=[];a.isString(f)?e.push(q({channel:f})):(!f.image&&f.imageUrl&&f.pinterestImage&&(f.image=f.imageUrl,delete f.imageUrl,delete f.pinterestImage),a.each(f,function(a,b){"id"!==a&&"look"!==a&&g.push(m(a,b))}),"transparent"===f.style&&c.push(d.cssClasses.transparentButton),f.look&&a.indexOfArray(c,
d.cssClasses.lookNativeButton)&&c.push(d.cssClasses.lookNativeButton),e.push(q({channel:f.id,classes:c.join(" "),attrs:g.join(" ")})))});return e};n.createWidgetDOM=function(d,f,g){d=c.returnElement(d);var h=f.container,k=f.buttons,m=f.view_type,t={},A=[];delete f.view_type;delete f.container;delete f.buttons;a.isString(f.button)&&(k=[f.button],delete f.button);a.each(f,function(a,c){a=b.fixPinterest(a);t[a]=a===e.services?b.updateServices(c):c});h!==e.container.custombox&&m!==e.viewType.list&&(A=
n.createWidgetButtons(k),a.each(d,function(a,b){t.counter&&l(b,e.counter.name,t.counter);c.insertHTML(b,A.join(" "))}));a.isFunction(g)&&g(d,t,h,m)};n.createCounterDOM=function(b,d,e){b=c.returnElement(b);var f={};a.each(d,function(a,b){f[a]=b});a.isFunction(e)&&e(b,f)};n.publicApi.counter=function(c,d){a.isUndefined(c)||b.appReady(function(){var b,k,l;n.createCounterDOM(c,d,function(c,d){b=d.url||f.val("defaults.url");k=d.channel||e.post;a.each(c,function(b,c){-1!==a.indexOfArray(h.getWithCounters(),
k)&&g.publish("counters.add",a.mergeObjects(d,{domNode:c}))})});-1!==a.indexOfArray(h.getWithCounters(),k)&&(l={url:b},k!==e.post&&k!==e.postShare&&a.getPropertyByPath(h.get("name",k),"extra.nativeImpl")&&(l.syncId=a.getPropertyByPath(h.get("name",k),"id")),g.publish("counters.fetch",l))})};n.publicApi.showAfterShare=function(b){var d=c.appendTo(c.getBy("body")[0],c.createElement("div")),f=b?b.onhideaftershare:k.notDefined;b=b||{};b.view_type=e.viewType.aftershare;a.prop(b,"afterShare.baseElement")||
(b.afterShare={center:!0});b.onhideaftershare=function(){k.win.post_widget(d).destroy();f&&f()};k.win.post_widget(d,b)};return n});r("widget","env util button oo dom enumeration config viewCore pubsub jsonp proxy pwConfig i18n ga jsApi channels support listView status globals".split(" "),function(a,d,e,c,b,g,f,h,k,n,u,l,q,m,r,p,y,z,w,s){n={};n.WidgetClass=c.defineClass({inherit:h.ViewClass,pinterestCallBack:null,attributes:{},fetchedCounters:!1,has:{lookNativeButtons:!1,nativeButtons:!1},widgetId:"",
vGUID:"",ButtonClass:e.ButtonClass,buttonCollection:[],customBox:!1,viewType:g.viewType.widget,constructor:function(a){this.domNode=a.domNode;this.options=a;this.nodeMarker=[];this.triggers={};this.notPopularButtons=[];this.popularFixPosition=0;this.widgetId=d.GUID();this.pinterestCallBack=a.pinterestCallBack;a.archVersion&&(this.archVersion=a.archVersion);this.customBox=a.container===g.container.custombox;this.widgetViewType=a.viewType;this.fetchedCounters=!1;this.bindAll("onButtonClick","onButtonHover",
"onTrackMore","onCustomBoxShowPopup","onCustomBoxHidePopup");this.subscribe();this.init();this.bindEvents()},subscribe:function(){k.subscribe("button.click",this.onButtonClick,this);k.subscribe("button.hover",this.onButtonHover,this);k.subscribe("track.more",this.onTrackMore,this)},bindEvents:function(){var a=this.attributes;this.customBox&&(b.addEvent(this.domNode,a.click?g.events.click:g.events.mouseover,this.onCustomBoxShowPopup),b.addEvent(this.domNode,g.events.mouseout,this.onCustomBoxHidePopup))},
init:function(){var a=this,c=this.getWidgetLinks();this.setAttributesFromPWConfig(this.options.customPwConfig);this.attributes.publisherKey&&(c.length||this.customBox||this.widgetViewType||(c=this.prepareButtonsFromPWConfig()),this.archVersion===g.widgetVersion.old&&(b.classList(this.domNode,f.cssClasses.disablePostButton)||(c=this.oldVersionAddPostButton(c))),d.isNull(b.attr(this.domNode,"id"))||this.nodeMarker.push("#"+b.attr(this.domNode,"id")),this.nodeMarker.push(this.domNode.nodeName.toLowerCase()),
this.vGUID=l.val("vguid")||d.GUID(!0),this.prepareAttributes(b.classList(this.domNode).join(" "),function(b){c=a.getWidgetLinks();a.fixAttributes();a.updateServiceAttributes();a.fetchStatus();a.initButtons(a.analyzeWidgetLinks(c),b);a.initViewType();a.afterInit()}))},initViewType:function(){switch(this.widgetViewType){case g.viewType.list:this.initListViewType();break;case g.viewType.popup:case g.viewType.popupList:this.fireShowPopup({parentNode:[this.domNode],popupMode:this.widgetViewType});break;
case g.viewType.aftershare:this.showAfterShare({})}},oldVersionAddPostButton:function(a){var c=!1,e=!1;d.each(a,function(a,d){-1<d.className.indexOf("_button")&&(e=!0);b.classList(d,f.postShareAliases)&&(c=!0)});c||(b.appendTo(this.getDom(),b.createElement("a",{className:f.postShareAliases[e?1:0]})),a=this.getWidgetLinks());return a},fixAttributes:function(){var a=this.attributes.url;!0===l.val("track")&&(this.attributes.url=d.removeTrackingParam(a))},updateServiceAttributes:function(){this.attributes.services.exclude||
(this.attributes.services.exclude={popup:[],popular:[]})},initListViewType:function(){var a=this;(new z.ListView(this.domNode,{onClickHandler:function(c,d,e){d=b.getElementOffset(e);k.publish("button.click",{name:c,coords:{left:d.left,top:d.top+e.offsetHeight},buttonSizePX:f.buttonSize.small},a)}},g.viewType.list)).show(!1,this.attributes.services)},checkPopular:function(a){var b=d.toInt(a[0].split("-")[1])+this.popularFixPosition,c=p.getPopularChannel(b);-1<d.indexOfArray(this.notPopularButtons,
c)||-1<d.indexOfArray(this.attributes.services.exclude.popular,c)?(++this.popularFixPosition,a=this.checkPopular(a)):a=b;return a},initButtons:function(a,b){this.customBox||this.widgetViewType||(this.initButtonCollection(a),this.analyzeButtons(),this.setClassList(b),this.fixSquareButtonsView())},fixSquareButtonsView:function(){var a=this.getButtonLooks();-1===d.indexOfArray(a,g.look.nativ)&&-1===d.indexOfArray(a,g.look.looknative)&&-1<d.indexOfArray(a,g.look.postShare)&&b.addClass(this.getDom(),f.cssClasses.lookNativeWidget)},
fetchStatus:function(){var a=this,b,c;b={pubKey:this.attributes.publisherKey};c=setInterval(function(){w.getFetchingState()||((0===w.optout()||d.isUndefined(w.getInterstitial(b.pubKey)))&&a._fetchStatus(b),clearInterval(c))},1)},_fetchStatus:function(b){var c=this;w.setFetchingState(!0);u.fetchStatus(function(d){0===w.optout()&&(w.optout(!!d.optout),k.publish("optout.ready"));w.addInterstitial(b.pubKey,!!d.interstitial);w.setFetchingState(!1);d.firedisplaycm&&(d.displaycmbatch?c.insertCookieMatchingElement("iframe",
d.displaycmpush,a.displayBcmUrl):c.insertCookieMatchingElement("img",d.displaycmpush,a.displayCmUrl))},b)},insertCookieMatchingElement:function(a,c,e){b.appendTo("body",b.createElement(a,{className:f.cssClasses.pwLogImage,width:0,height:0,src:e+(d.isDefined(c)?"?push":"")}))},prepareButtonsFromPWConfig:function(){var a=r.createWidgetButtons(this.attributes.buttons);b.insertHTML(this.domNode,a.join(" "));return this.getWidgetLinks()},analyzeWidgetLinks:function(a){var c=!1,k=!1,h=[],J=this;d.each(a,
function(a,t){var l,m,n=b.classList(t).join(" "),x;l=f.regexpPatterns.buttonContainer[g.widgetVersion.old];m=f.regexpPatterns.buttonContainer[g.widgetVersion.neu];l=l.exec(n)||f.getPropFromClass("buttonContainer",n);l=d.isArray(l)?l[1]:l;d.isDefined(l)&&(x=l.match(f.regexpPatterns.popularChannel),d.isNull(x)?J.notPopularButtons.push(l):(l=p.getPopularChannel(J.checkPopular(x)),b.replaceClass(t,n,n.replace(m,e.tools.getButtonClassName(l)))),l=e.tools.resolveName(l),n=e.tools.getLook(n,l),c||(c=g.look.looknative===
n),k||(k=g.look.nativ===n),l!==g.postShare&&g.look.nativ===n&&(m=l.split("-")[0],l="google"===m?l.replace("-",""):m),h.push({channelName:l,node:t,look:n}))});this.has.nativeButtons=k;this.has.lookNativeButtons=c;return h},getWidgetLinks:function(){return b.getBy("a",this.domNode)},analyzeButtons:function(){var a=!1,b=this;d.each(this.buttonCollection,function(c,d){a||d.attributes.counter===g.counter.none||d.isNative()||(a=!0);b.attributes.size=b.getLargestButtonSize()});a?this.attributes.counter===
g.counter.none&&(this.attributes.counter=this.attributes.layout):this.attributes.counter=g.counter.none},getButtonLooks:function(){var a=[];d.each(this.buttonCollection,function(b,c){a.push(c.look)});return d.uniq(a)},initButtonCollection:function(b){var c=this,e=c.attributes;c.buttonCollection=[];d.each(b,function(b,f){(a.isMobile&&f.channelName!==g.favorites||!a.isMobile)&&(a.isMobile&&!a.isMobile.iosV&&f.channelName!==g.print||!a.isMobile||a.isMobile&&a.isMobile.iosV)&&c.buttonCollection.push(new c.ButtonClass({owner:c,
domNode:f.node,channelName:f.channelName,look:f.look,attributes:{counter:e.counter,layout:e.layout,size:e.size,url:e.url,image:e.image,title:e.title,services:e.services,click:e.click},widgetData:{publisherKey:e.publisherKey,attrsNotDefinedByUser:c.attrsNotDefinedByUser,transformations:e.transformations},widgetHas:d.cloneObj(c.has),archVersion:c.archVersion}))})},getLargestButtonSize:function(){var a=f.buttonSize,b,c,e=[];d.each(this.buttonCollection,function(b,c){var d=a[c.attributes.size][0];-1===
e.join("").indexOf(d)&&e.push(d)});c=d.arrayMaximum(e);d.each(a,function(a,d){if(d[0]===c)return b=a,!1});return b},afterInit:function(){this.widgetViewType||this.logEvent(g.dataloggerEvent.view)},onTrackMore:function(a,b){this.logEvent(g.dataloggerEvent.more,{label:q.t(g.more),mGUID:d.GUID(!0)})},onButtonHover:function(a,b){!1===this.attributes.click&&this.fireShowPopup(b)},onCustomBoxHidePopup:function(a,b){k.publish("hide.popup")},onCustomBoxShowPopup:function(c,d){var e;a.isMobile&&!l.val("mobileOverlay")?
this.openShareListWindow():(e=b.getElementOffset(d),this.fireShowPopup({coords:{left:e.left,top:e.top+d.offsetHeight},buttonSizePX:[d.offsetWidth,d.offsetHeight]}),k.publish("clear.timeOut"))},fireShowPopup:function(a){k.publish("popup.show",d.mergeObjects(a,{widgetInstance:this,services:this.attributes.services,widgetViewType:this.widgetViewType,mode:a.popupMode||g.viewType.popup,shareAgain:this.attributes.shareAgain,afterShareText:this.attributes.afterShareText}))},fireHidePopup:function(){k.publish("popup.hide")},
doUserCallback:function(a){var b=this.attributes["on"+a];d.isFunction(b)&&b.apply(s.win,Array.prototype.slice.call(arguments,1))},onButtonClick:function(b,c){var e=this.attributes,f=d.sGUID(),h=p.get("id","03").name,B=p.get("name",c.name),m=l.val("mobileOverlay"),n=!1,r=!1,v=d.prop(B,"extra.shorten"),x,w;x=c.name;this.doUserCallback("buttonclick",x);a.isMobile&&x===h&&(r=!0);if(-1<d.indexOfArray([g.post,g.postShare,g.more],x)){if(this.attributes.click||x===g.more)x===g.more&&(c.popupMode=g.viewType.popupList,
this.onTrackMore()),this.widgetViewType||(!m&&a.isMobile?this.openShareListWindow(c.popupMode):this.fireShowPopup(c))}else{this.widgetViewType||this.fireHidePopup();m=B.value;w=d.fixShema(e.url);w=u.prepareURLForSharing(w,B.id,f,e.transformations,r);switch(x){case h:a.isMobile&&this.doAfterShare(c);this.shareByMail(B.id,w);break;case g.print:d.print();break;case g.favorites:d.addToFavorites(e.title,e.url,function(){d.notify(q.t("pressToBookmark"))});break;default:if(m){switch(x){case p.get("id","24").name:m=
this.getWPUrl(B);break;case p.get("id","32").name:e=c.pinterestImage||e.image;if(d.isUndefined(e)){c.widgetInstance=this;k.publish("pinmarklet.show",c);return}m=d.template(m,{imageurl:e});break;case p.get("id","02").name:m=d.template(m,{via:e.services.twitter.via})}if(!m)return;this.shareBySocial(B,f,m,w,v)}}this.doUserCallback("share",x,c.node?c.node[0]:s.notDefined);x!==h||a.isMobile||(n=!0);n||(this.fetchCounters(!0,x),(x===g.favorites||x===g.print||x===h&&a.isMobile)&&this.logEvent(g.dataloggerEvent.share,
{sGUID:f,sc1:x,sm:l.val("mode")}),x!==h&&this.doAfterShare(c));this.trackGoogleAnalytics("event",B.displayName);this.trackGoogleAnalytics("social",B.displayName)}},doAfterShare:function(a){this.attributes.afterShare&&(this.showAfterShare(a),this.doUserCallback("showaftershare"))},trackGoogleAnalytics:function(a,b){m.track(a,b,this.attributes.url)},openShareListWindow:function(b,c,e){c={};e=d.mergeObjects(l.getUserPwConfig(),{},!0);b||(b=a.isMobile&&a.isMobile.tablet?g.viewType.popupList:g.viewType.popup);
e.vguid=this.vGUID;c.view_type=b;c.widget_attrs=JSON.stringify(d.mergeObjects(this.attributes,{widgetId:this.widgetId},!0));c.pwidget_config=JSON.stringify(e);(b=d.openWindow(u.getUrl("shareList",c)))&&b.focus()},shareByMail:function(b,c){var e=this.attributes,f="%0A%0A"+encodeURIComponent(c);a.isMobile?setTimeout(function(){d.redirect("mailto:?subject\x3d"+e.title+"\x26body\x3d"+(e.description||"")+f)},500):this.showMailFrame(b)},showAfterShare:function(a){var b=this,c={buttonSizePX:a.buttonSizePX,
coords:a.coords,mode:g.viewType.aftershare,onHideAfterShare:b.attributes.onhideaftershare,widgetViewType:this.widgetViewType,widgetAttributes:this.attributes,afterShare:{}};u.requestAfterShare(this.attributes.publisherKey,function(a){c.afterShare.offer=a;b.fireShowPopup(c)})},getWPUrl:function(a){var b=d.askUser(q.t("enterWordpressURL"),f.wpAskUrlDefaultValue);d.isNull(b)||(b!==f.wpAskUrlDefaultValue?(b=b.replace(/^\s+|\/+\s+$/g,""),/http[s]{0,1}:\/\/[\S]+\.[\S]+.*/.test(b)&&(b=d.template(a.value,
{url:b}))):b=null);return b},shareBySocial:function(b,c,e,f,g){var k=this.attributes;k.internal.sharedVia&&"facebook"===b.name&&(e=b.extra.viaShareQuote);c=d.mergeObjects({shortenButton:g,url:f,sharer:b.displayName,sharerUrl:e,sGUID:c,sc:b.name,maxSymbols:d.getPropertyByPath(b,"extra.maxSymbols")||0,shareServer:a.shareServer,extraUrlEncoding:d.getPropertyByPath(b,"extra.extraUrlEncoding"),logServer:a.logServer,optout:w.optout()},this.getDefaultSharingParams());k.internal.sharedVia&&(c.svia=k.internal.sharedVia);
c=d.mergeObjects(c,this.getShortenUrlParam(d.getPropertyByPath(b,"extra.shorten")));k=u.getUrl("sharePoint",c);b=this.getWindowParams(d.getPropertyByPath(b,"extra.popUpSize"));d.openWindow(k,b)},getDefaultSharingParams:function(){var c=this.attributes;return{url:c.url,via:c.services.twitter.via,title:c.title,pub:c.publisherKey,description:c.description||"",vGUID:this.vGUID,sm:l.val("mode"),ru:l.val("referrer")||b.doc("referrer"),lc:l.val("locale"),v:l.val("version")||a.widgetBuildNumber}},getWindowParams:function(a){var c=
"";this.attributes.sharePopups&&!d.isUndefined(a)&&(c=a[0],a=a[1],c="width\x3d"+c+", height\x3d"+a+", left\x3d"+d.toInt(b.win("screen.width")/2-c/2)+", top\x3d"+d.toInt(b.win("screen.height")/2-a/2));return c},getShortenUrlParam:function(a){var b=this.attributes.transformations.shorten,c={};w.getInterstitial(this.attributes.publisherKey)?c.shorten=!0:d.isDefined(b)?c.shorten=b:d.isDefined(a)&&(c.shorten=a);return c},logEvent:function(a,b){var c,e=this.attributes;c={vGUID:this.vGUID,pu:e.url,pt:e.title,
pub:e.publisherKey};e.internal.sharedVia&&(c.sharedVia=e.internal.sharedVia);b=b||{};u.logEvent(a,d.mergeObjects(c,b))},showMailFrame:function(c){var e=this.attributes,f=l.val("track"),g=e.transformations.shorten,h={};w.getInterstitial(this.attributes.publisherKey)&&(g=!0);e.transformations.tracking||(f=!1);e.internal.sharedVia&&(h.svia=e.internal.sharedVia);k.publish("mail.show",d.mergeObjects({sharerId:c,referrer:b.doc("referrer"),shorten:g,pubKey:e.publisherKey,track:f,title:e.title,description:e.description||
"",vGUID:this.vGUID,url:e.url,sm:l.val("mode"),lc:l.val("locale"),shareServer:a.shareServer,afterShare:e.afterShare},h))},setAttributesFromPWConfig:function(a){this.attributes={publisherKey:l.val("publisherKey"),onshare:l.val("onshare"),counterLook:s.notDefined};this.attributes=d.mergeObjects(l.val("defaults"),this.attributes);this.attributes.services=y.updateServices(this.attributes.services);d.isObjEmpty(a)||(a.mode&&l.update({mode:a.mode}),d.prop(a,"services.exclude")&&a.services.exclude.popup&&
d.isArray(a.services.exclude.popup)&&(this.attributes.services.p_share_popup&&!a.services.p_share_popup&&(this.attributes.services.p_share_popup=d.unMergeArrays(this.attributes.services.p_share_popup,a.services.exclude.popup)),this.attributes.services.more_popup&&!a.services.more_popup&&(this.attributes.services.more_popup=d.unMergeArrays(this.attributes.services.more_popup,a.services.exclude.popup))),this.attributes=d.mergeObjects(a,this.attributes));this.resolveClickMobile();this.attributes.vertical&&
(this.attributes.layout=g.layout.vertical,delete this.attributes.vertical);this.attributes=this.resolveCounterNative()},resolveClickMobile:function(){a.isMobile&&(this.attributes.click=!0)},resolveCounterNative:function(){var a=this.attributes.counter;d.isObject(a)&&(this.attributes.counter=a.layout?a.layout:g.counter.horizontal,a.look&&(this.attributes.counterLook=a.look));return this.attributes},fetchCounters:function(a,b,c){k.publish("counters.fetch",{increment:a,url:this.attributes.url,action:c||
g.dataloggerEvent.share,publisherKey:this.attributes.publisherKey,sharerName:b})},updateConfig:function(a){var b=!1,c={};d.isObjEmpty(a)||(d.each(a,function(a,d){a=y.fixPinterest(a);c[a]=d;"image"===a&&(b=!0)}),this.attributes=d.mergeObjects(c,this.attributes),d.each(this.getNativeButtons(),function(b,c){c.updateNativeButton(a)}),this.resolveClickMobile(),b&&this.updatePinterestButtons())},getNativeButtons:function(){var a=[];d.each(this.buttonCollection,function(b,c){c.look===g.look.nativ&&a.push(c)});
return a},updatePinterestButtons:function(){var a=this;d.each(this.buttonCollection,function(b,c){c.isPinterestButton()&&c.updateAttribute("image",a.attributes.image)})},setCounterLookNative:function(){this.attributes.counterLook=g.look.nativ},getAttribute:function(a){return this.attributes[a]},getDom:function(){return this.domNode},withSyncIds:function(){var a=[];d.each(this.buttonCollection,function(b,c){!c.isDead&&!c.isNative()&&c.hasCounter()&&c.hasNativeImpl()&&a.push(c.getId())});return d.uniq(a)},
destroyDOM:function(){b.removeNode(this.domNode)},getMaxButtonWidth:function(){var a=[];d.each(this.buttonCollection,function(b,c){c.isNative()||a.push(c.getWidth())});return d.arrayMaximum(a)},setVerticalWidth:function(){this.attributes.layout===g.layout.vertical&&b.setStyle(this.domNode,{width:this.getMaxButtonWidth()+"px"})}});return n});r("application","util oo config dom widget jsonp enumeration pubsub pwConfig proxy emailFrame popup channels i18n ga url jsApi scriptParams support counter globals counter env".split(" "),
function(a,d,e,c,b,g,f,h,k,n,r,l,q,m,v,p,y,z,w,s,t,A,C){g={};var D=t.win;g.Application=d.defineClass({initialized:!1,buttonsLoaded:0,WidgetClass:b.WidgetClass,CounterClass:A.CounterClass,ShareEmailView:null,PopupView:null,widgetCollection:[],counterCollection:[],pinApi:t.notDefined,options:{},constructor:function(a){this.options=a;this.triggers={};this.bindAll("shareQuoteScriptOnload","copyPasteCallback","copyPasteOnLoad","initApplication","showMailFrame","showSharePopup","hideSharePopup","fetchCounters",
"onButtonReady","onOptOutReady","widgetJsAPI","addCounter");this.loadAssets();this.subscribe()},init:function(){var a=this;this.initPwConfig();switch(k.val("init")){case f.initType.immediate:this.initApplication();break;case f.initType.lazy:this.afterInit(function(){a.initCoreMethods()});break;default:c.ready(this.initApplication)}},onOptOutReady:function(){this.trackClickBack()},insertAdditionalClasses:function(){var b=e.cssClasses.htmlPwLocale+m.getBCP47tag().split("_")[0],b=b+(" ra1-pw-"+(C.isMobile?
"mobile":"desktop"));C.isMobile&&(b+=" ra1-pw-mobile-"+a.trim(C.isMobile.platform).toLowerCase());c.addClass("html",b)},trackToComScore:function(){var a=("https:"===c.doc("location.protocol")?"https://sb":"http://b")+".scorecardresearch.com/beacon.js";D._comscore=D._comscore||[];D._comscore.push({c1:"7",c2:"8973917",c3:"1"});c.loadScript(a)},subscribe:function(){h.subscribe("mail.show",this.showMailFrame);h.subscribe("popup.show",this.showSharePopup);h.subscribe("popup.hide",this.hideSharePopup);
h.subscribe("counters.fetch",this.fetchCounters);h.subscribe("button.ready",this.onButtonReady);h.subscribe("optout.ready",this.onOptOutReady);h.subscribe("pinmarklet.show",this.pinterestCallBack);h.subscribe("counters.add",this.addCounter)},applicationOnLoad:function(a){var b=this,c=0,d;d=setInterval(function(){b.buttonsLoaded>c?c=b.buttonsLoaded:(a(),clearInterval(d))},1)},loadAssets:function(){c.loadCSS(e.mainCssPath)},initCoreMethods:function(){this.updatePwidgetConfig();this.fixPinterestInPwConfig();
q.init();this.insertAdditionalClasses();v.init()},initApplication:function(b){var d=this,e=a.isObject(b)?b:c.getBy(b||"body");d.initialized||this.initCoreMethods();b?a.each(a.isArray(e)?e:[e],function(a,b){d.searchForWidgetsMarkup(b)}):this.searchForWidgetsMarkup(b);d.initialized?this.fetchCounters():this.afterInit()},searchForWidgetsMarkup:function(b){var d=this;a.each(c.getBy(e.getCssQuerySelector("widget"),b),function(a,b){d.addWidgetToCollection({domNode:b})});a.each(c.getBy(e.getCssQuerySelector("widget",
"2.1"),b),function(a,b){d.addWidgetToCollection({domNode:b},"2.1")});a.each(c.getBy("a",b),function(b,f){a.isNull(f.className.match(e.regexpPatterns.buttonContainer["3.0"]))||c.getParentByClassList(f,e.postWidgetAliases)||d.addWidgetToCollection({domNode:d.createWidgetFromSingleButton(f)})});a.each(c.getBy(".pw-box-counter",b),function(b,c){-1!==a.indexOfArray(q.getWithCounters(),e.getAttrValue(c,"channel")||f.post)&&h.publish("counters.add",{domNode:c,bubbleCounter:!0})})},isWidgetInitialized:function(b){var c=
!1;a.each(this.widgetCollection,function(a,d){if(d.getDom()===b)return c=!0,!1});return c},updatePwidgetConfig:function(){var b;b=a.cloneObj(D.pwidget_config);b.publisherKey=b.publisherKey||z.get("publisherKey");b.locale=m.validateUserLocale(b.locale||z.get("lc"));b.retina=b.retina||z.get(f.retina);!p.canonical.get()||b.defaults&&b.defaults.url||(b.defaults=b.defaults||{},b.defaults.url=p.canonical.get());C.isMobile&&C.isMobile.tablet&&(b.mobileOverlay=!0);b.defaults&&(b.defaults=a.mergeObjects(b.defaults,
w.fixPinterestPwConf(b.defaults)));k.update({locale:b.locale},!0);k.update(b);k.setUserPwConfig(D.pwidget_config)},initPwConfig:function(){k.update({init:a.cloneObj(D.pwidget_config).init||z.get("init")})},addWidgetToCollection:function(a,b){b&&(a.archVersion=b);a.pinterestCallBack=this.pinterestCallBack;this.isWidgetInitialized(a.domNode)||this.widgetCollection.push(new this.WidgetClass(a))},createWidgetFromSingleButton:function(a){var b=c.createElement("span",{className:e.widgetClassList});this.cloneNodeAttributes(a,
b,e.widgetAttributes);this.cloneNodeClasses(a,b);c.appendTo(b,a.cloneNode(!0));c.insertBefore(a,b);c.removeNode(a);return b},cloneNodeAttributes:function(b,d,f){a.each(f,function(a,f){var g=e.getAttrValue(b,f.name);g&&c.attr(d,"data-"+f.name,g)})},cloneNodeClasses:function(a,b){c.setClass(b,a.className)},afterInit:function(a){var b=this;this.applicationOnLoad(function(){var c;a&&a();c=k.val("onload");b.fetchCounters();b.prepareExternalFiles();b.initialized=!0;c&&c();b.trackToComScore();h.publish("application.ready")})},
initShareQuote:function(){var b,d;b={env:C,proxy:n,util:a,dom:c,enumeration:f};d={i18n:{powered:m.t("powered"),shareTitle:m.t("shareTitle")},poStLink:e.poStLink,postWidget:{buttons:["facebook","twitter","mail","more"]},cdnServer:C.cdnServer};return t.win.r1PWExternal.shareQuote(d,b)},prepareExternalFiles:function(){this.prepareCopyPaste();this.prepareRetina()},prepareCopyPaste:function(){var b=f.copypaste,d=!0,g=this.widgetCollection,h=g.length,l=0,m=this,n;k.val("publisherKey")&&(a.each(g,function(b,
c){if(a.isDefined(c.attributes.copypaste)){if(c.attributes.copypaste)return n=!0,!1;l++;n=!1}}),k.val(b)||a.isDefined(n)?k.val(b)||!a.isDefined(n)||n?l&&l===h&&(d=!1):d=!1:d=!1,(d||k.val("shareQuote"))&&c.loadScript(e.externalModules.copyPaste,function(){m.copyPasteOnLoad(d,k.val("shareQuote"))}))},copyPasteOnLoad:function(a,b){var d=this;b?c.loadScript(e.externalModules.shareQuote,function(){d.initCopyPaste(a,b,d.initShareQuote())}):this.initCopyPaste(a,b)},initCopyPaste:function(b,c,d){var e=a.sGUID(),
f=this;c=m.t("readMore");var g=k.val("i18n.readMore");g&&(c=-1<g.indexOf("{link}")?g:g+"{link}");D.radium.init({min:7,tracking:b,url:f.getUrlForCopyPaste(e),msg:c,callback:function(a){f.copyPasteCallback(e,a,b);d&&d.show(a)},allowLink:!1})},getUrlForCopyPaste:function(b){var d=k.val("readMoreUrl")||p.canonical.get()||a.removeTrackingParam(c.doc("location.href"));return n.prepareURLForSharing(d,"99",b,{shorten:!1,tracking:k.val("defaults.transformations.tracking")})},copyPasteCallback:function(b,d,
e){var g=p.canonical.get()||a.removeTrackingParam(c.doc("location.href")),l=e?f.dataloggerEvent.share:f.dataloggerEvent.copyPaste;v.track("event","Clipboard",g);v.track("social","Clipboard",g);b={vGUID:k.val("vguid")||a.GUID(!0),sGUID:b,pu:g,text:d.substr(0,2E3)};e&&(b=a.mergeObjects({sm:k.val("mode"),sc1:"clipboard"},b),h.publish("counters.fetch",{increment:!0,sharerName:"clipboard",url:g,action:f.dataloggerEvent.share}));this.logDataLoggerEvent(l,b)},prepareRetina:function(){k.val(f.retina)&&c.loadCSS(e.externalCss.retina)},
showMailFrame:function(a,b){this.ShareEmailView||(this.ShareEmailView=new r.EmailFrame);this.ShareEmailView.show(b)},showSharePopup:function(a,b){this.PopupView||(this.PopupView=new l.PopupView(b));this.PopupView.show(b)},hideSharePopup:function(a,b){this.PopupView&&this.PopupView.hide()},trackClickBack:function(){var b;k.val("track")&&(b=/[\?&#]{1}([a-z\d]{16})\.([\d]{2})(?:|$)/i,b=b.exec(c.doc("location.href")),a.isNull(b)||this.logDataLoggerEvent(f.dataloggerEvent.clickback,{pt:k.val("defaults.title"),
pu:k.val("defaults.url"),sc:q.get("id",b[2]).name,sGUID:b[1],bGUID:a.GUID(!0)}))},logDataLoggerEvent:function(a,b){n.logEvent(a,b)},onButtonReady:function(a,b){this.buttonsLoaded+=1},fetchCounters:function(a,b){s.fetch(b,this.widgetCollection,this.counterCollection,function(a,b){h.publish("counters.update",{values:b,url:a})});this.refreshWidgetWidth()},refreshWidgetWidth:function(){a.each(this.widgetCollection,function(a,b){b.setVerticalWidth()})},addCounter:function(a,b){this.counterCollection.push(new this.CounterClass(b))},
widgetJsAPI:function(b,d){var e,g=this;a.isDefined(b)&&(e=g.getWidgetsBySelector(b),e.length||w.appReady(function(){a.isUndefined(d)&&(d={container:f.container.custombox});!a.isDefined(d)||a.hasProperty(d,"button")||a.hasProperty(d,"buttons")||a.hasProperty(d,"view_type")||(d.container=f.container.custombox);y.createWidgetDOM(b,d,function(b,c,d,e){var k=g.widgetCollection,h;a.each(b,function(a,b){g.addWidgetToCollection({domNode:b,customPwConfig:c,container:d,viewType:e})});e||d===f.container.custombox||
(h=k[k.length-1],setTimeout(function(){a.isDefined(h)&&h.getAttribute("counter")!==f.counter.none&&(h.fetchedCounters||h.fetchCounters(!1,t.notDefined,"fetch"))},1E3))})}));return{updateConfig:function(b){!a.isObjEmpty(b)&&a.isDefined(e)&&e.length&&(a.each(e,function(d,e){e.updateConfig(b);b.url&&a.each(g.counterCollection,function(a,d){c.hasChild(e.domNode,d.domNode)&&d.updateUrl(b.url)})}),b.url&&e[0].fetchCounters(!1))},destroy:function(){if(a.isDefined(b))return g.removeJSAPIWidgets(b)}}},processWidgets:function(b,
d){a.isFunction(d)&&a.each(this.widgetCollection,function(e,f){a.isCollection(b)||c.isNodeElement(b)?(b.length||(b=[b]),a.each(b,function(b,c){a.isDefined(f)&&f.domNode===c&&d(f)})):-1!==a.indexOfArray(f.nodeMarker,b)&&d(f)})},removeJSAPIWidgets:function(a){var b=!1;this.processWidgets(a,function(a){a.destroyDOM();b=!0});return b},getWidgetsBySelector:function(a){var b=[];this.processWidgets(a,function(a){b.push(a)});return b},pinterestCallBack:function(b,d){var f=this;f.pinApi?(f.pinApi.init(),f.pinApi.pin=
function(a){d.pinterestImage=c.attr(a,"data-pin-media");h.publish("button.click",d,d.widgetInstance);f.pinApi.close()}):c.loadScript(e.pinMarkletUrl+"?r\x3d"+99999999*Math.random(),function(){var b;a.each(c.getBy("div"),function(a,c){var d=c.id.split("_");if(c.id&&"PIN"===d[0])return b=d[1],!1});b&&(f.pinApi=t.win["PIN_"+b].f,f.pinApi.pin=function(a){d.pinterestImage=c.attr(a,"data-pin-media");h.publish("button.click",d,d.widgetInstance);f.pinApi.close()})})},fixPinterestInPwConfig:function(){var a=
k.val("defaults.imageUrl"),b=k.val("defaults.image"),c=b;a&&!b&&(c=a);k.update({defaults:{image:c}})}});return g});I(["dom","application","env","jsApi"],function(a,d,e,c){var b,g=window;b={htmlIE7:"ra1-pw-ie7",htmlIE8:"ra1-pw-ie8"};7!==e.ieVersion&&8!==e.ieVersion||a.addClass("html",b["htmlIE"+e.ieVersion]);a=new d.Application;g.post_widget=a.widgetJsAPI;g.post_init=a.initApplication;g.pwidget_api=c.publicApi;a.init()})}}})(window,document);